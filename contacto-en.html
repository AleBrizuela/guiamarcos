<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<script>if(localStorage.getItem('guiamarcos_lang')==='es'){window.location.replace('contacto.html');}</script>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="theme-color" content="#002147">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Contact â€” Guia Marcos | Medicare Insurance</title>
<meta name="description" content="Contact Guia Marcos â€” We compare Medicare plans from Kaiser, SCAN, Humana, Aetna, and UnitedHealthcare in California. Always free.">
<meta name="keywords" content="contact guia marcos, medicare insurance california, bilingual medicare agent, medicare english, medicare los angeles">
<link rel="canonical" href="https://guiamarcos.com/contacto-en.html">
<meta property="og:type" content="website">
<meta property="og:title" content="Contact â€” Guia Marcos | Medicare Insurance">
<meta property="og:description" content="Alejandra Brizuela Marcos â€” bilingual Medicare specialist. We compare plans from Kaiser, SCAN, Humana, Aetna, UnitedHealthcare. 100% free.">
<meta property="og:url" content="https://guiamarcos.com/contacto-en.html">
<meta property="og:locale" content="en_US">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"InsuranceAgency","name":"Susana Marcos LLC","description":"Bilingual Medicare insurance agency. Independent brokers comparing top carriers at no cost.","url":"https://guiamarcos.com","email":"alejamedicare@gmail.com","address":{"@type":"PostalAddress","addressLocality":"Los Angeles","addressRegion":"CA","addressCountry":"US"},"areaServed":[{"@type":"State","name":"California"},{"@type":"State","name":"Illinois"},{"@type":"State","name":"Texas"},{"@type":"State","name":"Oklahoma"},{"@type":"State","name":"Florida"},{"@type":"State","name":"Iowa"}],"openingHours":"Mo-Fr 07:00-16:00 PST, Sa 08:00-12:00 PST","priceRange":"Free","knowsLanguage":["Spanish","English"],"founder":[{"@type":"Person","name":"Susana Marcos","jobTitle":"JD, MBA â€” Founder and Principal Agent"},{"@type":"Person","name":"Alejandra Brizuela Marcos","jobTitle":"Licensed Medicare Insurance Agent â€” Partner"}]}
</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="guiamarcos-brand.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<style>
:root {
  --navy: #002147;
  --green: #007B40;
  --blue: #1D72B8;
  --teal: #007B7B;
  --mint: #A8D8B9;
  --lt-blue: #D6EAF7;
  --lt-green: #D4EDE1;
  --lt-mint: #EAF6EE;
  --lt-gray: #F0F3F6;
  --gray: #4A5568;
  --dark: #1a202c;
  --white: #FFFFFF;
  --wa-green: #25D366;
  --radius: 12px;
  --shadow: 0 4px 24px rgba(0,60,113,0.10);
  --shadow-lg: 0 8px 40px rgba(0,60,113,0.16);
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body { font-family: 'Inter', -apple-system, sans-serif; color: var(--dark); font-size: 19px; line-height: 1.8; background: var(--white); }

/* â”€â”€ CARRIER TRUST BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.carrier-trust-bar {
  padding: 40px 24px;
  background: #F8FAFC;
  border-top: 1px solid #E2E8F0;
  border-bottom: 1px solid #E2E8F0;
}
.trust-bar-label {
  text-align: center; font-size: 13px; color: var(--gray);
  margin-bottom: 28px; letter-spacing: 0.12em;
  text-transform: uppercase; font-weight: 600;
}
.carrier-logos {
  display: flex; flex-wrap: wrap; justify-content: center; gap: 14px;
}
.carrier-pill {
  padding: 11px 24px; border-radius: 32px;
  border: 2px solid var(--brand-color, #D1D5DB);
  font-weight: 700; font-size: 14px;
  font-family: 'Inter', sans-serif;
  background: white; color: #9CA3AF;
  filter: grayscale(100%);
  transition: all 0.3s ease;
  cursor: default; letter-spacing: 0.01em;
  user-select: none;
}
.carrier-pill-img {
  padding: 10px 20px;
  display: flex; align-items: center; justify-content: center;
  min-height: 52px;
  border: 2px solid var(--brand-color, #D1D5DB);
}
.carrier-pill-img img {
  height: 28px; width: auto; display: block;
  filter: grayscale(100%) opacity(50%);
  transition: filter 0.3s ease;
}
.carrier-pill-img:hover img {
  filter: grayscale(0%) opacity(100%);
}
.carrier-pill-img:hover {
  box-shadow: 0 4px 20px rgba(0,0,0,0.13);
  transform: translateY(-3px);
}
.carrier-pill:hover {
  filter: grayscale(0%);
  color: var(--brand-color, var(--navy));
  box-shadow: 0 4px 20px rgba(0,0,0,0.13);
  transform: translateY(-3px);
}
@media (max-width: 768px) {
  .carrier-pill { font-size: 13px; padding: 9px 18px; }
}

/* â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.header {
  position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
  background: rgba(255,255,255,0.97); backdrop-filter: blur(8px);
  border-bottom: 2px solid var(--lt-blue);
  transition: box-shadow 0.3s;
}
.header.scrolled { box-shadow: var(--shadow); }
.header-inner {
  max-width: 1200px; margin: 0 auto;
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 24px; height: 70px;
}
.logo {
  font-family: 'Playfair Display', serif; font-size: 22px;
  font-weight: 700; color: var(--navy); text-decoration: none;
}
.logo span { color: var(--green); }
nav { display: flex; align-items: center; gap: 8px; }
nav a {
  text-decoration: none; font-size: 14px; font-weight: 500;
  color: var(--gray); padding: 8px 14px; border-radius: 8px;
  transition: all 0.2s;
}
nav a:hover, nav a.active { color: var(--navy); background: var(--lt-blue); }
.mobile-menu-btn {
  display: none; background: none; border: none;
  font-size: 24px; color: var(--navy); cursor: pointer;
}
.phone-header {
  display: flex; align-items: center; gap: 6px;
  color: var(--green); font-weight: 700; font-size: 15px;
  text-decoration: none;
}
.phone-header i { font-size: 16px; }

/* â”€â”€ LANGUAGE TOGGLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.lang-toggle {
  display: flex; align-items: center; gap: 6px;
  padding: 8px 14px; border-radius: 8px;
  border: 2px solid var(--lt-gray);
  background: white;
  color: var(--gray); font-weight: 600; font-size: 14px;
  cursor: pointer; transition: all 0.2s;
  font-family: 'Inter', sans-serif;
}
.lang-toggle:hover { border-color: var(--green); color: var(--green); background: var(--lt-mint); }
/* lang-toggle uses emoji flag */
@media (max-width: 768px) {
  .lang-toggle { width: 100%; justify-content: center; margin-top: 12px; padding: 12px; }
}

/* â”€â”€ WHATSAPP FLOATING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.wa-float {
  position: fixed; bottom: 24px; right: 16px; z-index: 999;
  background: var(--wa-green); color: white;
  height: 48px; border-radius: 28px; padding: 0 18px 0 14px;
  display: flex; align-items: center; gap: 8px;
  font-size: 22px; text-decoration: none; white-space: nowrap;
  box-shadow: 0 4px 20px rgba(37,211,102,0.45);
  transition: transform 0.2s, box-shadow 0.2s;
  animation: pulse-wa 2.5s infinite;
  outline: 2px solid rgba(255,255,255,0.6);
  outline-offset: 2px;
}
.wa-float .float-label {
  font-size: 12px; font-weight: 700; letter-spacing: 0.8px;
  font-family: 'Inter', sans-serif; line-height: 1;
}
.wa-float:hover { transform: scale(1.05); box-shadow: 0 6px 28px rgba(37,211,102,0.55); }
.sms-float {
  position: fixed; bottom: 84px; right: 16px; z-index: 999;
  background: var(--blue); color: white;
  height: 48px; border-radius: 28px; padding: 0 18px 0 14px;
  display: flex; align-items: center; gap: 8px;
  font-size: 20px; text-decoration: none; white-space: nowrap;
  box-shadow: 0 4px 20px rgba(30,136,229,0.4);
  transition: transform 0.2s, box-shadow 0.2s;
  outline: 2px solid rgba(255,255,255,0.6);
  outline-offset: 2px;
}
.sms-float .float-label {
  font-size: 12px; font-weight: 700; letter-spacing: 0.8px;
  font-family: 'Inter', sans-serif; line-height: 1;
}
.sms-float:hover { transform: scale(1.05); box-shadow: 0 6px 28px rgba(30,136,229,0.5); }
@keyframes pulse-wa {
  0%, 100% { box-shadow: 0 4px 20px rgba(37,211,102,0.45); }
  50%      { box-shadow: 0 6px 30px rgba(37,211,102,0.65); }
}

/* â”€â”€ MOBILE FIRST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@media (max-width: 768px) {
  body { font-size: 16px !important; line-height: 1.65 !important; }
  .hero, .contact-hero, .page-hero { padding-top: 100px !important; padding-bottom: 40px !important; }
  .hero h1, .page-hero h1, .contact-hero h1 { font-size: 28px !important; line-height: 1.25 !important; }
  .hero-grid { grid-template-columns: 1fr !important; }
  .hero p { font-size: 15px !important; line-height: 1.6 !important; }
  .hero-ctas { flex-direction: column; gap: 10px; }
  .hero-ctas .btn { width: 100%; justify-content: center; font-size: 16px; padding: 16px; }
  .trust-badges { flex-direction: column !important; gap: 10px !important; }
  #desktop-nav { display: none !important; }
  .mobile-nav { top: 70px !important; padding: 12px 16px !important; }
  .section-title { font-size: 24px !important; line-height: 1.3 !important; }
  .section-subtitle { font-size: 15px !important; }
  .contact-methods-grid { grid-template-columns: 1fr !important; }
  .contact-form-grid { grid-template-columns: 1fr !important; }
  .contact-grid { grid-template-columns: 1fr !important; }
  .wa-float, .sms-float { right: 12px; padding: 0 !important; width: 48px !important; height: 48px !important; border-radius: 50% !important; justify-content: center !important; }
  .wa-float .float-label, .sms-float .float-label { display: none !important; }
  .wa-float { bottom: 72px !important; }
  .sms-float { bottom: 128px !important; }
  .footer-grid { grid-template-columns: 1fr !important; }
  section { padding: 40px 16px !important; }
  .cta-banner h2 { font-size: 22px !important; }
  .cta-banner p { font-size: 15px !important; }
  .cta-buttons { flex-direction: column; align-items: center; }
  .cta-buttons .btn { width: 100%; max-width: 320px; justify-content: center; }
}

/* â”€â”€ SECTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
section { padding: 80px 24px; }
.container { max-width: 1200px; margin: 0 auto; }
.section-label {
  font-size: 13px; font-weight: 700; letter-spacing: 2px;
  text-transform: uppercase; color: var(--green); margin-bottom: 12px;
}
.section-title {
  font-family: 'Playfair Display', serif; font-size: 40px;
  font-weight: 700; color: var(--navy); line-height: 1.2;
  margin-bottom: 16px;
}
.section-subtitle {
  font-size: 18px; color: var(--gray); max-width: 600px;
  line-height: 1.6;
}

/* â”€â”€ HERO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.hero {
  padding-top: 140px; padding-bottom: 60px;
  background: linear-gradient(135deg, var(--lt-mint) 0%, var(--lt-blue) 100%);
  position: relative; overflow: hidden;
}
.hero::after {
  content: ''; position: absolute; bottom: -2px; left: 0; right: 0;
  height: 60px; background: white;
  clip-path: ellipse(60% 100% at 50% 100%);
}
.hero-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 60px;
  align-items: center;
}
.hero h1 {
  font-family: 'Playfair Display', serif; font-size: 52px;
  font-weight: 700; color: var(--navy); line-height: 1.15;
  margin-bottom: 20px;
}
.hero h1 em {
  font-style: normal; color: var(--green);
  text-decoration: underline; text-decoration-color: var(--mint);
  text-underline-offset: 6px;
}
.hero p { font-size: 19px; color: var(--gray); margin-bottom: 32px; line-height: 1.7; }
.hero-ctas { display: flex; gap: 16px; flex-wrap: wrap; margin-bottom: 32px; }
.btn {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 14px 28px; border-radius: 10px;
  font-size: 16px; font-weight: 600; text-decoration: none;
  transition: all 0.2s; border: none; cursor: pointer;
}
.btn-primary { background: var(--green); color: white; }
.btn-primary:hover { background: #006834; transform: translateY(-1px); box-shadow: var(--shadow); }
.btn-secondary { background: white; color: var(--navy); border: 2px solid var(--navy); }
.btn-secondary:hover { background: var(--navy); color: white; }
.btn-wa { background: var(--wa-green); color: white; }
.btn-wa:hover { background: #1fb855; }
.trust-badges {
  display: flex; gap: 24px; flex-wrap: wrap;
  padding-top: 24px; border-top: 1px solid rgba(0,60,113,0.1);
}
.trust-badge {
  display: flex; align-items: center; gap: 8px;
  font-size: 14px; color: var(--gray);
}
.trust-badge i { color: var(--green); font-size: 18px; }

/* Hero right: Quick Widget Preview */
.hero-widget {
  background: white; border-radius: 20px; padding: 36px;
  box-shadow: var(--shadow-lg); position: relative;
}
.hero-widget h3 {
  font-size: 22px; font-weight: 700; color: var(--navy);
  margin-bottom: 8px; text-align: center;
}
.hero-widget p.widget-sub {
  font-size: 14px; color: var(--gray); text-align: center;
  margin-bottom: 24px;
}
.widget-options { display: flex; flex-direction: column; gap: 12px; }
.widget-opt {
  display: flex; align-items: center; gap: 16px;
  padding: 16px 20px; border-radius: 16px; cursor: pointer;
  border: 2px solid var(--lt-gray);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  background: white;
}
.widget-opt:hover { transform: translateX(8px); border-color: var(--green); background: var(--lt-mint); }
.widget-opt.selected { border-color: var(--green); background: var(--lt-mint); }
.widget-opt-icon {
  width: 44px; height: 44px; border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 20px; color: white; flex-shrink: 0;
}
.widget-opt-text h4 { font-size: 15px; font-weight: 600; color: var(--navy); }
.widget-opt-text p { font-size: 13px; color: var(--gray); margin-top: 2px; }
.widget-opt-badge {
  margin-left: auto; padding: 4px 10px; border-radius: 20px;
  font-size: 11px; font-weight: 700; text-transform: uppercase;
  letter-spacing: 0.5px; flex-shrink: 0;
}
.badge-urgent { background: #FEE2E2; color: #DC2626; }
.badge-soon { background: #FEF3C7; color: #D97706; }
.badge-explore { background: var(--lt-blue); color: var(--blue); }
.badge-help { background: var(--lt-green); color: var(--green); }



/* Contact page alignment defined below */
.contact-form { background: white; }
.contact-methods { background: white; }
.contact-method {
  display: flex; align-items: flex-start; gap: 16px;
  padding: 20px; border-radius: var(--radius);
  border: 2px solid transparent; transition: all 0.3s;
  text-decoration: none; color: inherit;
  margin-bottom: 16px;
}
.contact-method:hover {
  border-color: var(--green); background: var(--lt-mint);
  transform: translateX(4px);
}
.contact-method-icon {
  width: 48px; height: 48px; border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  color: white; font-size: 20px; flex-shrink: 0;
}
.contact-method h4 { font-size: 16px; font-weight: 700; color: var(--navy); margin-bottom: 4px; }
.contact-method p { font-size: 14px; color: var(--gray); margin: 0; }
@media (max-width: 768px) {
  .contact-grid { grid-template-columns: 1fr; gap: 32px; }
}

/* â”€â”€ STATS BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.stats-bar {
  background: var(--navy); padding: 40px 24px;
}
.stats-grid {
  max-width: 1200px; margin: 0 auto;
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 32px;
  text-align: center;
}
.stat-item h3 {
  font-family: 'Playfair Display', serif; font-size: 44px;
  font-weight: 700; color: var(--mint);
}
.stat-item p { font-size: 14px; color: var(--lt-blue); margin-top: 4px; }

/* â”€â”€ SERVICES OVERVIEW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.services-overview { background: white; }
.services-grid {
  display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px;
  margin-top: 40px;
}
.service-card {
  background: var(--lt-gray); border-radius: var(--radius);
  padding: 32px; transition: all 0.3s; border: 2px solid transparent;
}
.service-card:hover { border-color: var(--green); transform: translateY(-4px); box-shadow: var(--shadow); }
.service-card-icon {
  width: 56px; height: 56px; border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-size: 24px; color: white; margin-bottom: 20px;
}
.service-card h3 { font-size: 20px; font-weight: 700; color: var(--navy); margin-bottom: 10px; }
.service-card p { font-size: 15px; color: var(--gray); line-height: 1.6; }

/* â”€â”€ CTA BANNER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.cta-banner {
  background: linear-gradient(135deg, var(--navy), var(--blue));
  padding: 60px 24px; text-align: center;
}
.cta-banner h2 {
  font-family: 'Playfair Display', serif; font-size: 36px;
  color: white; margin-bottom: 16px;
}
.cta-banner p { font-size: 18px; color: var(--lt-blue); margin-bottom: 32px; max-width: 600px; margin-left: auto; margin-right: auto; }
.cta-buttons { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }

/* â”€â”€ ABOUT PAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.about-hero {
  padding-top: 140px; padding-bottom: 60px;
  background: linear-gradient(135deg, var(--lt-blue) 0%, var(--lt-mint) 100%);
}
.team-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 32px;
  margin-top: 40px;
}
.team-card {
  background: white; border-radius: var(--radius); padding: 40px;
  box-shadow: var(--shadow); text-align: center;
}
/* team avatars now inline */
.team-photo-wrap { width:140px;height:140px;margin:0 auto 20px;position:relative; }
.team-card h3 { font-size: 22px; font-weight: 700; color: var(--navy); margin-bottom: 4px; }
.team-card .role { font-size: 14px; color: var(--teal); font-weight: 600; margin-bottom: 16px; }
.team-card p { font-size: 15px; color: var(--gray); line-height: 1.7; }
.team-card .credentials {
  display: flex; gap: 8px; flex-wrap: wrap; justify-content: center;
  margin-top: 16px;
}
.credential-tag {
  background: var(--lt-gray); padding: 6px 14px; border-radius: 20px;
  font-size: 12px; font-weight: 600; color: var(--navy);
}

/* â”€â”€ MEDICARE 101 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.medicare-parts {
  display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px;
  margin-top: 40px;
}
.part-card {
  border-radius: var(--radius); padding: 32px;
  border-left: 5px solid;
}
.part-card h3 { font-size: 20px; font-weight: 700; margin-bottom: 8px; }
.part-card p { font-size: 15px; line-height: 1.7; }

/* â”€â”€ WIDGET PAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.widget-page { padding-top: 140px; }
.widget-container {
  max-width: 640px; margin: 0 auto; position: relative; overflow: hidden;
  background: white; border-radius: 20px; padding: 48px;
  box-shadow: var(--shadow-lg);
}
.widget-step { display: none; }
.widget-step.active { display: block; }
.widget-progress {
  display: flex; gap: 8px; margin-bottom: 32px;
}
.widget-progress-dot {
  flex: 1; height: 5px; border-radius: 3px;
  background: var(--lt-gray);
}
.widget-progress-dot.filled { background: var(--green); }
.widget-back {
  background: var(--lt-blue); border: 2px solid var(--blue);
  color: var(--blue); font-size: 14px; font-weight: 600;
  cursor: pointer; margin-bottom: 20px;
  display: inline-flex; align-items: center; gap: 8px;
  padding: 8px 16px; border-radius: 20px;
  transition: all 0.2s;
}
.widget-back:hover { background: var(--blue); color: white; }
.widget-q {
  font-size: 24px; font-weight: 700; color: var(--navy);
  margin-bottom: 8px;
}
.widget-qsub { font-size: 15px; color: var(--gray); margin-bottom: 24px; }
.widget-result {
  text-align: center; padding: 20px 0;
}
.widget-result-icon {
  width: 80px; height: 80px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 36px; margin: 0 auto 20px;
}
.widget-result h3 { font-size: 24px; color: var(--navy); margin-bottom: 8px; }
.widget-result p { font-size: 16px; color: var(--gray); margin-bottom: 24px; line-height: 1.7; }
.zip-input {
  width: 100%; padding: 16px 20px; border: 2px solid var(--lt-gray);
  border-radius: 10px; font-size: 18px; text-align: center;
  font-family: 'Inter', sans-serif;
  transition: border-color 0.2s;
}
.zip-input:focus { outline: none; border-color: var(--green); }

/* â”€â”€ CONTACT PAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.contact-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 40px;
  align-items: start; margin-top: 40px;
}
.contact-form { background: var(--lt-gray); border-radius: var(--radius); padding: 36px; }
.contact-form h3 { font-size: 22px; font-weight: 700; color: var(--navy); margin-bottom: 20px; }
.form-group { margin-bottom: 16px; }
.form-group label {
  display: block; font-size: 14px; font-weight: 600;
  color: var(--gray); margin-bottom: 6px;
}
.form-group input, .form-group select, .form-group textarea {
  width: 100%; padding: 14px 16px; border: 2px solid #E2E8F0;
  border-radius: 8px; font-size: 16px; font-family: 'Inter', sans-serif;
  transition: border-color 0.2s; min-height: 52px;
  -webkit-appearance: none; appearance: none;
}
.form-group input:focus, .form-group select:focus, .form-group textarea:focus {
  outline: none; border-color: var(--green);
}
.contact-methods { display: flex; flex-direction: column; gap: 20px; }
.contact-method {
  display: flex; align-items: center; gap: 16px;
  background: white; border-radius: var(--radius); padding: 24px;
  box-shadow: var(--shadow); text-decoration: none; color: inherit;
  transition: transform 0.2s;
}
.contact-method:hover { transform: translateY(-2px); }
.contact-method-icon {
  width: 56px; height: 56px; border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-size: 24px; color: white; flex-shrink: 0;
}
.contact-method h4 { font-size: 16px; font-weight: 700; color: var(--navy); }
.contact-method p { font-size: 14px; color: var(--gray); }

/* â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
footer {
  background: var(--navy); color: var(--lt-blue); padding: 60px 24px 30px;
}
.footer-grid {
  max-width: 1200px; margin: 0 auto;
  display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 40px;
}
.footer-grid h4 { color: var(--mint); font-size: 14px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 16px; }
.footer-grid a { color: var(--lt-blue); text-decoration: none; font-size: 14px; display: block; margin-bottom: 8px; }
.footer-grid a:hover { color: white; }
.footer-grid p { font-size: 14px; line-height: 1.7; }
.footer-bottom {
  max-width: 1200px; margin: 40px auto 0;
  padding-top: 24px; border-top: 1px solid rgba(255,255,255,0.1);
  font-size: 12px; color: rgba(255,255,255,0.4);
  text-align: center; line-height: 1.6;
}

/* â”€â”€ PAGE SECTIONS (HIDE/SHOW) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.page { display: none; }
.page.active { display: block; }

/* â”€â”€ MOBILE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.mobile-nav {
  display: none; position: fixed; top: 70px; left: 0; right: 0;
  background: white; padding: 16px; box-shadow: var(--shadow);
  z-index: 999; flex-direction: column; gap: 4px;
}
.mobile-nav.open { display: flex; }

@media (max-width: 900px) {
  nav { display: none; }
  .mobile-menu-btn { display: block; }
  .hero-grid { grid-template-columns: 1fr; gap: 32px; }
  .hero h1 { font-size: 36px; }
  .stats-grid { grid-template-columns: repeat(2, 1fr); }
  .services-grid { grid-template-columns: 1fr; }
  .team-grid { grid-template-columns: 1fr; }
  .medicare-parts { grid-template-columns: 1fr; }
  .contact-grid { grid-template-columns: 1fr; }
  .footer-grid { grid-template-columns: 1fr 1fr; }
  .section-title { font-size: 30px; }
  .header-inner { padding: 0 16px; }
  .phone-header { display: none; }
}
@media (max-width: 500px) {
  .stats-grid { grid-template-columns: 1fr 1fr; gap: 16px; }
  .stat-item h3 { font-size: 32px; }
  .hero-ctas { flex-direction: column; }
  .hero-widget { padding: 24px; }
}

/* â”€â”€ WIDGET ANCHOR & PULSE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#widget-anchor { scroll-margin-top: 100px; }

@keyframes widget-pulse {
  0%   { box-shadow: var(--shadow-lg); }
  40%  { box-shadow: 0 8px 48px rgba(16,185,129,0.45); }
  100% { box-shadow: var(--shadow-lg); }
}
.pulse-highlight { animation: widget-pulse 1s ease-in-out; }

/* â”€â”€ WIDGET PROGRESS BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#widget-progress-bar {
  position: absolute; top: 0; left: 0; right: 0; height: 5px;
  background: var(--lt-gray);
}
#widget-progress-fill {
  height: 100%; width: 0%; background: var(--green);
  transition: width 0.4s ease;
}

/* â”€â”€ MOBILE STICKY CTA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.mobile-sticky-cta {
  display: none;
  position: fixed; bottom: 0; left: 0; width: 100%; z-index: 1001;
  background: white; border-top: 2px solid var(--green);
  padding: 12px 16px; justify-content: center;
  box-shadow: 0 -4px 20px rgba(0,0,0,0.12);
  transition: transform 0.3s ease;
}
.mobile-sticky-cta button {
  width: 100%; max-width: 400px;
  background: var(--green); color: white;
  border: none; border-radius: 12px;
  font-size: 16px; font-weight: 700;
  padding: 15px 24px; cursor: pointer;
  display: flex; align-items: center; justify-content: center; gap: 10px;
}
.mobile-sticky-cta button:active { filter: brightness(0.9); }

/* â”â”â” MOBILE + SENIOR UX OPTIMIZATIONS â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */

/* Prevent iOS from zooming on input focus â€” inputs must be â‰¥16px */
input, select, textarea { font-size: 16px !important; }

/* Better touch targets â€” minimum 44px height */
.btn { min-height: 48px; }
.mobile-nav a {
  font-size: 17px !important;
  padding: 14px 16px !important;
  display: block;
  border-radius: 10px;
  font-weight: 600;
  color: var(--navy);
}
.mobile-nav a:hover { background: var(--lt-blue); }

/* Widget question/subtitle on mobile */
@media (max-width: 768px) {
  .widget-q { font-size: 19px !important; line-height: 1.35 !important; }
  .widget-qsub { font-size: 14px !important; }
  footer { padding-bottom: 80px !important; }
  .contact-method { padding: 20px 16px !important; }
  .contact-method h4 { font-size: 17px !important; }
  .contact-method p { font-size: 14px !important; }
  .cta-banner { padding: 40px 16px !important; }
}

/* iOS safe-area for sticky bar (notch/home bar) */
.mobile-sticky-cta {
  padding-bottom: calc(12px + env(safe-area-inset-bottom, 0px)) !important;
}

/* Focus visible for keyboard/accessibility */
:focus-visible {
  outline: 3px solid var(--green);
  outline-offset: 3px;
}
button:focus-visible, a:focus-visible { outline: 3px solid var(--green); }

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
}

/* Better form inputs â€” senior friendly */
.form-group label { font-size: 15px !important; font-weight: 700 !important; }
.form-group input, .form-group select, .form-group textarea {
  padding: 14px 16px !important;
  font-size: 16px !important;
  border-radius: 10px !important;
  min-height: 52px;
}

/* Widget options: full-width tap area on mobile */
@media (max-width: 768px) {
  .widget-opt { min-height: 70px; }
  .widget-container { padding: 24px 16px !important; }
}

/* Sticky CTA button: larger and bolder */
.mobile-sticky-cta button {
  font-size: 17px !important;
  font-weight: 800 !important;
  min-height: 52px !important;
  letter-spacing: 0.02em;
}

/* Hero button: bolder CTA */
.hero-ctas .btn-primary {
  font-size: 18px !important;
  font-weight: 800 !important;
  padding: 20px 40px !important;
  border-radius: 14px !important;
  letter-spacing: 0.02em;
}
@media (max-width: 768px) {
  .hero-ctas .btn-primary { padding: 16px 20px !important; font-size: 16px !important; width: 100%; }
  .hero-ctas .btn-secondary { padding: 14px 20px !important; font-size: 15px !important; width: 100%; }
}

/* Carrier logos: scrollable row on mobile */
@media (max-width: 768px) {
  .carrier-logos {
    flex-wrap: nowrap !important;
    overflow-x: auto;
    padding-bottom: 8px;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }
  .carrier-logos::-webkit-scrollbar { display: none; }
  .carrier-pill { flex-shrink: 0; }
}

/* Smooth scroll offset for fixed header */
html { scroll-padding-top: 90px; }

/* Phone link in footer/contact: tap-friendly */
a[href^="tel"] { white-space: nowrap; }

/* Make nav phone more visible on mobile header */
@media (max-width: 768px) {
  .phone-header { font-size: 16px !important; padding: 8px 0; }
}
</style>
  <link rel="icon" type="image/png" sizes="192x192" href="favicon-192x192.png">
  <link rel="shortcut icon" href="favicon-192x192.png">
  <link rel="apple-touch-icon" href="favicon-192x192.png">
</head>

<body>
<header class="header" id="header">
  <div class="header-inner">
    <a href="index-en.html" class="logo"><img src="favicon-192x192.png" alt="Guia Marcos" class="logo-icon">Guia Marcos <span>Medicare</span></a>
    <nav id="desktop-nav">
      <a href="index-en.html">Home</a>
      <a href="beneficios-en.html">Benefits</a>
      <a href="contacto-en.html" class="active">Contact Us</a>
      <div class="lang-pill"><button class="" onclick="goLang('es')" aria-label="EspaÃ±ol">ES</button><button class="lp-active" onclick="goLang('en')" aria-label="English">EN</button></div>
    </nav>
    <button class="mobile-menu-btn" onclick="toggleMobile()"><i class="fas fa-bars"></i></button>
  </div>
</header>

<!-- Mobile nav -->
<div class="mobile-nav" id="mobile-nav">
  <a href="index-en.html">Home</a>
  <a href="beneficios-en.html">Benefits</a>
  <a href="contacto-en.html">Contact Us</a>
  <div class="lang-pill"><button class="" onclick="goLang('es')" aria-label="EspaÃ±ol">ES</button><button class="lp-active" onclick="goLang('en')" aria-label="English">EN</button></div>
</div>

<!-- SMS floating button -->
<!-- WhatsApp floating button -->
<a href="https://wa.me/13105979142?text=Hello%2C%20I%20need%20help%20with%20Medicare" class="wa-float" target="_blank" title="WhatsApp">
  <i class="fab fa-whatsapp"></i><span class="float-label">WHATSAPP</span>
</a>

<main id="main-content">
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- CONTACTO PAGE -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

  <!-- Hero -->
  <section style="padding-top:140px;padding-bottom:60px;background:linear-gradient(135deg,var(--lt-green) 0%,var(--lt-mint) 100%)">
    <div class="container" style="text-align:center">
      <div class="section-label">LET'S TALK</div>
      <div class="section-title">Contact Us</div>
      <p class="section-subtitle" style="max-width:600px;margin:0 auto">Choose how you'd like to reach us. All consultations are 100% free.</p>
    </div>
  </section>

  <!-- Contact Grid -->
  <section style="padding:60px 24px;background:white">
    <div class="container">
      <div class="contact-grid">

        <!-- Left: Contact Form -->
        <div class="contact-form">
          <h3 style="color:var(--navy);margin-bottom:8px">Tell Us Your Situation</h3>
          <p style="font-size:15px;color:var(--gray);margin-bottom:24px">We'll reach out at the time that works best for you.</p>
          <form id="contact-form" onsubmit="submitForm(event)">
  <input type="hidden" name="subject" value="New Medicare Consultation Request â€” guiamarcos.com">
  <input type="hidden" name="from_name" value="Guia Marcos Website">
  <input type="hidden" name="redirect" value="false">
            <div class="form-group">
              <label>Full name *</label>
              <input type="text" name="name" id="cf2-name" required autocomplete="name" inputmode="text" placeholder="E.g. Maria Garcia" style="font-size:16px;min-height:52px">
            </div>
            <div class="form-group">
              <label>Phone *</label>
              <input type="tel" name="phone" id="cf2-phone" required autocomplete="tel" inputmode="tel" placeholder="(310) 555-1234" style="font-size:16px;min-height:52px">
            </div>
            <div class="form-group">
              <label>Date of Birth *</label>
              <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px">
                <select id="dob-month" name="dob_month" required style="font-size:16px;min-height:52px;padding:12px 8px;border:1px solid var(--border);border-radius:4px;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23475569' d='M6 9L1 4h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 0.5rem center;padding-right:1.5rem">
                  <option value="">Month</option>
<option value="01">January</option><option value="02">February</option>
<option value="03">March</option><option value="04">April</option>
<option value="05">May</option><option value="06">June</option>
<option value="07">July</option><option value="08">August</option>
<option value="09">September</option><option value="10">October</option>
<option value="11">November</option><option value="12">December</option>
                </select>
                <select id="dob-day" name="dob_day" required style="font-size:16px;min-height:52px;padding:12px 8px;border:1px solid var(--border);border-radius:4px;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23475569' d='M6 9L1 4h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 0.5rem center;padding-right:1.5rem">
                  <option value="">Day</option>
<option value="01">1</option>
<option value="02">2</option>
<option value="03">3</option>
<option value="04">4</option>
<option value="05">5</option>
<option value="06">6</option>
<option value="07">7</option>
<option value="08">8</option>
<option value="09">9</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13">13</option>
<option value="14">14</option>
<option value="15">15</option>
<option value="16">16</option>
<option value="17">17</option>
<option value="18">18</option>
<option value="19">19</option>
<option value="20">20</option>
<option value="21">21</option>
<option value="22">22</option>
<option value="23">23</option>
<option value="24">24</option>
<option value="25">25</option>
<option value="26">26</option>
<option value="27">27</option>
<option value="28">28</option>
<option value="29">29</option>
<option value="30">30</option>
<option value="31">31</option>
                </select>
                <select id="dob-year" name="dob_year" required style="font-size:16px;min-height:52px;padding:12px 8px;border:1px solid var(--border);border-radius:4px;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23475569' d='M6 9L1 4h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 0.5rem center;padding-right:1.5rem">
                  <option value="">Year</option>
<option value="1962">1962</option>
<option value="1961">1961</option>
<option value="1960">1960</option>
<option value="1959">1959</option>
<option value="1958">1958</option>
<option value="1957">1957</option>
<option value="1956">1956</option>
<option value="1955">1955</option>
<option value="1954">1954</option>
<option value="1953">1953</option>
<option value="1952">1952</option>
<option value="1951">1951</option>
<option value="1950">1950</option>
<option value="1949">1949</option>
<option value="1948">1948</option>
<option value="1947">1947</option>
<option value="1946">1946</option>
<option value="1945">1945</option>
<option value="1944">1944</option>
<option value="1943">1943</option>
<option value="1942">1942</option>
<option value="1941">1941</option>
<option value="1940">1940</option>
<option value="1939">1939</option>
<option value="1938">1938</option>
<option value="1937">1937</option>
<option value="1936">1936</option>
<option value="1935">1935</option>
<option value="1934">1934</option>
<option value="1933">1933</option>
<option value="1932">1932</option>
<option value="1931">1931</option>
<option value="1930">1930</option>
<option value="1929">1929</option>
<option value="1928">1928</option>
<option value="1927">1927</option>
<option value="1926">1926</option>
                </select>
              </div>
              <span id="dob-error" style="display:none;color:#EF4444;font-size:0.82rem;margin-top:4px"></span>
            </div>
            <div class="form-group">
              <label>Email (optional)</label>
              <input type="email" name="email" id="cf2-email" autocomplete="email" inputmode="email" style="font-size:16px;min-height:52px">
            </div>
            <div class="form-group">
              <div>
                <label style="display:block;font-size:14px;font-weight:600;color:var(--navy);margin-bottom:6px">ZIP code</label>
                <input type="text" id="cf2-zip" name="zip" maxlength="5" placeholder="e.g. 90028" autocomplete="postal-code" inputmode="numeric" style="width:100%;font-size:16px;min-height:52px;padding:12px 16px;border:1px solid var(--border);border-radius:4px;box-sizing:border-box;margin-bottom:10px"
                  oninput="const st=zipToState(this.value);if(st){document.getElementById('cf2-state').value=st;}">
                <label style="display:block;font-size:14px;font-weight:600;color:var(--navy);margin-bottom:6px">State</label>
                <select id="cf2-state" name="state" style="width:100%;font-size:16px;min-height:52px;padding:12px 16px;border:1px solid var(--border);border-radius:4px;background:white">
                  <option value="">Select state...</option>
                  <option value="AL">AL â€” Alabama</option>
                  <option value="AK">AK â€” Alaska</option>
                  <option value="AZ">AZ â€” Arizona</option>
                  <option value="AR">AR â€” Arkansas</option>
                  <option value="CA">CA â€” California</option>
                  <option value="CO">CO â€” Colorado</option>
                  <option value="CT">CT â€” Connecticut</option>
                  <option value="DE">DE â€” Delaware</option>
                  <option value="FL">FL â€” Florida</option>
                  <option value="GA">GA â€” Georgia</option>
                  <option value="HI">HI â€” Hawaii</option>
                  <option value="ID">ID â€” Idaho</option>
                  <option value="IL">IL â€” Illinois</option>
                  <option value="IN">IN â€” Indiana</option>
                  <option value="IA">IA â€” Iowa</option>
                  <option value="KS">KS â€” Kansas</option>
                  <option value="KY">KY â€” Kentucky</option>
                  <option value="LA">LA â€” Louisiana</option>
                  <option value="ME">ME â€” Maine</option>
                  <option value="MD">MD â€” Maryland</option>
                  <option value="MA">MA â€” Massachusetts</option>
                  <option value="MI">MI â€” Michigan</option>
                  <option value="MN">MN â€” Minnesota</option>
                  <option value="MS">MS â€” Mississippi</option>
                  <option value="MO">MO â€” Missouri</option>
                  <option value="MT">MT â€” Montana</option>
                  <option value="NE">NE â€” Nebraska</option>
                  <option value="NV">NV â€” Nevada</option>
                  <option value="NH">NH â€” New Hampshire</option>
                  <option value="NJ">NJ â€” New Jersey</option>
                  <option value="NM">NM â€” New Mexico</option>
                  <option value="NY">NY â€” New York</option>
                  <option value="NC">NC â€” North Carolina</option>
                  <option value="ND">ND â€” North Dakota</option>
                  <option value="OH">OH â€” Ohio</option>
                  <option value="OK">OK â€” Oklahoma</option>
                  <option value="OR">OR â€” Oregon</option>
                  <option value="PA">PA â€” Pennsylvania</option>
                  <option value="RI">RI â€” Rhode Island</option>
                  <option value="SC">SC â€” South Carolina</option>
                  <option value="SD">SD â€” South Dakota</option>
                  <option value="TN">TN â€” Tennessee</option>
                  <option value="TX">TX â€” Texas</option>
                  <option value="UT">UT â€” Utah</option>
                  <option value="VT">VT â€” Vermont</option>
                  <option value="VA">VA â€” Virginia</option>
                  <option value="WA">WA â€” Washington</option>
                  <option value="WV">WV â€” West Virginia</option>
                  <option value="WI">WI â€” Wisconsin</option>
                  <option value="WY">WY â€” Wyoming</option>
                  <option value="DC">DC â€” Washington D.C.</option>
                </select>
              </div>
              <span style="font-size:0.78rem;color:var(--slate);margin-top:4px;display:block">Enter ZIP or type state â€” at least one required</span>
            </div>
            <div class="form-group">
              <label>How would you prefer we contact you?</label>
              <select name="prefer" id="cf2-prefer" style="font-size:16px;min-height:52px">
                <option value="sms" selected>Text message (SMS)</option>
                <option value="whatsapp">WhatsApp</option>
                <option value="email">Email</option>
                <option value="call">Phone call</option>
              </select>
            </div>
            <div class="form-group">
              <label>How can we help you?</label>
              <select name="topic" id="cf2-topic" style="font-size:16px;min-height:52px">
                <option value="new">First time enrolling in Medicare</option>
                <option value="change">I want to change my current plan</option>
                <option value="info">Just looking for information</option>
                <option value="other">Other</option>
              </select>
            </div>
            <button type="submit" class="btn btn-primary" style="width:100%;font-size:17px;padding:16px">
              <i class="fas fa-paper-plane"></i> <span>Send Message</span>
            </button>
            <p style="font-size:13px;color:var(--gray);text-align:center;margin-top:12px">We respond within 24 - 48 hours (usually much faster).</p>
            <p style="font-size:0.82rem;color:var(--slate);margin-top:6px;text-align:center">ğŸ”’ Your information is secure and will never be sold.</p>
          </form>
<div id="form-success" style="display:none; text-align:center; padding:2.5rem 1.5rem; background:#f0faf4; border-radius:12px; border:2px solid #1a3a5c; margin-top:1rem;">
  <div style="font-size:3rem; margin-bottom:1rem;">âœ…</div>
  <h3 style="color:#1a3a5c; font-size:1.5rem; margin-bottom:0.75rem;">Thank You!</h3>
  <p style="color:#444; font-size:1.1rem; margin-bottom:0.5rem;">We received your message and will be in touch soon.</p>
</div>
        </div>

        <!-- Right: Contact Methods + Hours -->
        <div class="contact-methods">
          <a href="https://wa.me/13105979142?text=Hello%2C%20I%20need%20help%20with%20Medicare" target="_blank" class="contact-method">
            <div class="contact-method-icon" style="background:#25D366"><i class="fab fa-whatsapp"></i></div>
            <div>
              <h4>WhatsApp</h4>
              <p>Write us a message right now.</p>
            </div>
          </a>
          <a href="https://calendar.app.google/6D4obxzxERQXBpaf7" target="_blank" class="contact-method">
            <div class="contact-method-icon" style="background:var(--green)"><i class="fas fa-calendar-check"></i></div>
            <div>
              <h4>Book an Appointment</h4>
              <p>15 minutes, free. No obligation.</p>
            </div>
          </a>
          <a href="mailto:alejamedicare@gmail.com" class="contact-method">
            <div class="contact-method-icon" style="background:var(--blue)"><i class="fas fa-envelope"></i></div>
            <div>
              <h4>alejamedicare@gmail.com</h4>
              <p>We respond within 24â€“48 hours.</p>
            </div>
          </a>

          <!-- Hours -->
          <div style="background:var(--lt-mint);border-radius:var(--radius);padding:24px;margin-top:8px">
            <p style="font-size:14px;color:var(--teal);font-weight:700;margin-bottom:12px;display:flex;align-items:center;gap:8px"><i class="fas fa-clock"></i> <span>Office Hours</span></p>
            <div style="display:flex;flex-direction:column;gap:4px">
              <p style="font-size:14px;color:var(--dark);margin:0">Monâ€“Fri: 7am â€“ 4pm PT</p>
              <p style="font-size:14px;color:var(--dark);margin:0">Saturday: 8am â€“ 12pm PT</p>
            </div>
            <p style="font-size:13px;color:var(--teal);margin-top:10px;margin-bottom:0">Also available via WhatsApp outside office hours.</p>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Seminar CTA Banner -->
  <section class="cta-banner" style="text-align:center;padding:50px 24px">
    <div class="container">
      <div class="section-title" style="color:white;margin-bottom:8px">Prefer a Virtual Consultation?</div>
      <p style="color:rgba(255,255,255,0.9);font-size:17px;margin-bottom:24px">We offer virtual consultations and home visits for seniors in the Los Angeles area.</p>
      <a href="https://calendar.app.google/6D4obxzxERQXBpaf7" target="_blank" class="btn" style="background:white;color:var(--navy);font-weight:700;font-size:16px;padding:16px 32px;border-radius:50px;text-decoration:none;display:inline-flex;align-items:center;gap:8px">
        <i class="fas fa-calendar-check"></i> <span>Schedule Your Free Appointment</span>
      </a>
    </div>
  </section>

</main>

<footer>
  <div class="footer-grid">
    <div>
      <div style="font-family:'Playfair Display',serif;font-size:22px;color:white;margin-bottom:12px">Susana Marcos <span style="color:var(--mint)">LLC</span></div>
      <p>Bilingual Medicare agents licensed in California, Illinois, Texas, Oklahoma, Florida and Iowa. Our service is always 100% free.</p>
    </div>
    <div>
      <h4>Pages</h4>
      <a href="index-en.html">Home</a>
      <a href="beneficios-en.html">Benefits</a>
      <a href="contacto-en.html">Contact Us</a>
    </div>
    <div>
      <h4>Contact Us</h4>
      
      <a href="mailto:alejamedicare@gmail.com">alejamedicare@gmail.com</a>
      <a href="https://wa.me/13105979142" target="_blank">WhatsApp</a>
    </div>
    <div>
      <h4>Hours</h4>
      <p>Monday to Friday: 7amâ€“4pm PT<br>Saturday: 8amâ€“12pm PT<br>Sunday: By appointment only</p>
    </div>
  </div>
  <div style="text-align:center;padding:20px 24px 0;border-top:1px solid rgba(255,255,255,0.1)">
    <p style="font-size:15px;color:var(--mint);font-weight:600;margin-bottom:4px">Alejandra Brizuela Marcos</p>
    <p style="font-size:13px;color:rgba(255,255,255,0.7);margin-bottom:4px">Susana Marcos LLC</p>
    <p style="font-size:14px;color:white;font-weight:600;margin-bottom:4px">alejamedicare@gmail.com | I Speak Spanish</p>
  </div>
  <div class="footer-bottom">
    <p style="margin-bottom:6px">We do not offer every plan available in your area. Any information we provide is limited to the plans we offer in your area. Please contact <a href="https://www.medicare.gov" target="_blank" rel="noopener" style="color:rgba(255,255,255,0.7)">Medicare.gov</a> or call 1-800-MEDICARE for information on all of your options. Our advice is free and without obligation to you.</p>
    <p>Not connected with or endorsed by the U.S. government or the federal Medicare program. â€” <a href="https://guiamarcos.com" target="_blank" rel="noopener" style="color:rgba(255,255,255,0.7);text-decoration:none">guiamarcos.com</a> â€” our site in Spanish</p>
  </div>
</footer>

<!-- â”€â”€ MOBILE STICKY CTA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="mobile-sticky-cta" id="mobile-sticky-cta">
  <button onclick="smoothScrollToWidget()">
    <i class="fas fa-search"></i>
    <span>Compare Plans</span>
  </button>
</div>

<script>
// â•â•â• STATE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let currentLang = 'en';
let currentPage = 'contact';
let widgetState = { situation: null, zip: null };

// â•â•â• PAGE NAVIGATION â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Navigation handled by href links
// â•â•â• LANGUAGE TOGGLE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•



function goLang(lang) {
  localStorage.setItem('guiamarcos_lang', lang);
  if (lang !== 'en') window.location.href = 'contacto.html';
}
function toggleLang() { goLang('es'); }


// â•â•â• MOBILE MENU â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toggleMobile() {
  document.getElementById('mobile-nav').classList.toggle('open');
}
function closeMobile() {
  document.getElementById('mobile-nav').classList.remove('open');
}

// â•â•â• HEADER SCROLL â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
window.addEventListener('scroll', () => {
  document.getElementById('header').classList.toggle('scrolled', window.scrollY > 10);
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// WIDGET SYSTEM â€” 4 Full Flows (Enhanced)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let wData = {};

const CHRONIC_CONDITIONS = [
  { group: 'Cardiovascular', es: 'Cardiovascular', items: [
    { v: 'heart_failure', es: 'Insuficiencia cardÃ­aca crÃ³nica', en: 'Chronic Heart Failure' },
    { v: 'arrhythmia',   es: 'Arritmia cardÃ­aca', en: 'Cardiac Arrhythmia' },
    { v: 'cad',          es: 'Enfermedad coronaria', en: 'Coronary Artery Disease' },
    { v: 'pvd',          es: 'Enfermedad vascular perifÃ©rica', en: 'Peripheral Vascular Disease' },
  ]},
  { group: 'Diabetes', es: 'Diabetes', items: [
    { v: 'diabetes1', es: 'Diabetes tipo 1', en: 'Diabetes Type 1' },
    { v: 'diabetes2', es: 'Diabetes tipo 2', en: 'Diabetes Type 2' },
  ]},
  { group: 'Respiratory', es: 'PulmÃ³n / Respiratorio', items: [
    { v: 'asthma',   es: 'Asma', en: 'Asthma' },
    { v: 'copd',     es: 'EPOC / Bronquitis crÃ³nica', en: 'COPD / Chronic Bronchitis' },
    { v: 'emphysema',es: 'Enfisema', en: 'Emphysema' },
    { v: 'pul_hyp',  es: 'HipertensiÃ³n pulmonar', en: 'Pulmonary Hypertension' },
  ]},
  { group: 'Neurological', es: 'NeurolÃ³gico', items: [
    { v: 'dementia',  es: 'Demencia / Alzheimer', en: 'Dementia / Alzheimer\'s' },
    { v: 'parkinsons',es: 'Parkinson', en: 'Parkinson\'s Disease' },
    { v: 'ms',        es: 'Esclerosis mÃºltiple', en: 'Multiple Sclerosis' },
    { v: 'stroke',    es: 'Secuelas de derrame cerebral', en: 'Stroke-Related Deficits' },
    { v: 'epilepsy',  es: 'Epilepsia', en: 'Epilepsy' },
    { v: 'als',       es: 'ELA (ALS)', en: 'ALS' },
  ]},
  { group: 'Cancer', es: 'CÃ¡ncer', items: [
    { v: 'cancer', es: 'CÃ¡ncer (activo)', en: 'Cancer (active)' },
  ]},
  { group: 'Kidney / Liver', es: 'RiÃ±Ã³n / HÃ­gado', items: [
    { v: 'esrd',      es: 'Enfermedad renal terminal (diÃ¡lisis)', en: 'End-Stage Renal Disease (dialysis)' },
    { v: 'esld',      es: 'Enfermedad hepÃ¡tica terminal', en: 'End-Stage Liver Disease' },
  ]},
  { group: 'Mental Health', es: 'Salud mental', items: [
    { v: 'depression',es: 'DepresiÃ³n mayor', en: 'Major Depression' },
    { v: 'bipolar',   es: 'Trastorno bipolar', en: 'Bipolar Disorder' },
    { v: 'schizo',    es: 'Esquizofrenia / Trastorno esquizoafectivo', en: 'Schizophrenia / Schizoaffective' },
  ]},
  { group: 'Autoimmune', es: 'Autoinmune', items: [
    { v: 'ra',    es: 'Artritis reumatoide', en: 'Rheumatoid Arthritis' },
    { v: 'lupus', es: 'Lupus', en: 'Lupus (SLE)' },
  ]},
  { group: 'Blood / Other', es: 'Sangre / Other', items: [
    { v: 'sickle',  es: 'Anemia de cÃ©lulas falciformes', en: 'Sickle-Cell Disease' },
    { v: 'hiv',     es: 'VIH/SIDA', en: 'HIV/AIDS' },
    { v: 'alcohol_drug', es: 'Dependencia crÃ³nica a alcohol/drogas', en: 'Chronic Alcohol/Drug Dependence' },
  ]},
];

function showWidgetStep(id) {
  document.querySelectorAll('.widget-step').forEach(s => s.classList.remove('active'));
  const el = document.getElementById(id);
  if (el) { el.classList.add('active'); window.scrollTo({top:0,behavior:'smooth'}); }
}
function wBack(id) { showWidgetStep(id); }

function startFlow(type) { updateWidgetProgress(10);
  const es = currentLang === 'es';
  if (type === 'first-time') { wData = { flow: type }; renderFT_Step1(es); }
  else if (type === 'moving') { wData = { flow: type }; renderMV_Step1(es); }
  else if (type === 'better') { wData = { flow: 'better' }; renderBT_Step1(es); }
  else if (type === 'parent') { wData = { flow: 'better', forWhom: 'family' }; bt_who('family'); showWidgetStep('flow-better'); }
}

// â”€â”€ SHARED HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function shell(containerId, backId, iconCls, bgColor, q_es, q_en, sub_es, sub_en, body) {
  const es = currentLang === 'es';
  document.getElementById(containerId).innerHTML = `
    <button class="widget-back" onclick="wBack('${backId}')"><i class="fas fa-arrow-left"></i> Back</button>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
      <div style="width:40px;height:40px;border-radius:10px;background:${bgColor};display:flex;align-items:center;justify-content:center;color:white;font-size:18px;flex-shrink:0"><i class="${iconCls}"></i></div>
      <div class="widget-q" style="margin:0">${es?q_es:q_en}</div>
    </div>
    <div class="widget-qsub">${es?sub_es:sub_en}</div>
    ${body}
  `;
}

function opt(es_lbl, en_lbl, onclick_fn, note_es='', note_en='') {
  const es = currentLang === 'es';
  const note = es ? note_es : note_en;
  return `<button onclick="${onclick_fn}" style="width:100%;text-align:left;padding:14px 18px;margin-bottom:10px;border:2px solid var(--lt-blue);border-radius:10px;background:white;font-size:15px;font-family:inherit;cursor:pointer;color:var(--dark);transition:all 0.15s" onmouseover="this.style.borderColor='var(--blue)';this.style.background='var(--lt-blue)'" onmouseout="this.style.borderColor='var(--lt-blue)';this.style.background='white'">
    ${es?es_lbl:en_lbl}${note?`<br><span style="font-size:12px;color:var(--gray)">${note}</span>`:''}
  </button>`;
}

function inp(id, lbl_es, lbl_en, type='text', ph_es='', ph_en='', req=false) {
  const es = currentLang === 'es';
  // smart inputmode + autocomplete hints
  const isZip   = id.includes('zip');
  const isPhone = id.includes('phone') || id.includes('tel') || id.includes('cel');
  const isName  = id.includes('name') || id.includes('nombre');
  const isEmail = id.includes('email') || id.includes('correo');
  const imode   = isZip ? 'numeric' : isPhone ? 'tel' : isEmail ? 'email' : 'text';
  const acomp   = isName ? 'name' : isPhone ? 'tel' : isEmail ? 'email' : isZip ? 'postal-code' : 'off';
  return `<div style="margin-bottom:14px">
    <label style="display:block;font-size:15px;font-weight:700;color:var(--navy);margin-bottom:8px">${es?lbl_es:lbl_en}${req?' <span style="color:#DC2626">*</span>':''}</label>
    <input id="${id}" type="${type}" inputmode="${imode}" autocomplete="${acomp}" placeholder="${es?ph_es:ph_en}"
      style="width:100%;padding:14px 16px;border:2px solid var(--lt-gray);border-radius:10px;font-size:16px;font-family:inherit;outline:none;min-height:52px"
      onfocus="this.style.borderColor='var(--blue)';this.style.boxShadow='0 0 0 3px rgba(29,114,184,0.15)'"
      onblur="this.style.borderColor='var(--lt-gray)';this.style.boxShadow='none'">
  </div>`;
}

function sel(id, lbl_es, lbl_en, optionsHtml) {
  const es = currentLang === 'es';
  return `<div style="margin-bottom:14px">
    <label style="display:block;font-size:15px;font-weight:700;color:var(--navy);margin-bottom:8px">${es?lbl_es:lbl_en}</label>
    <select id="${id}"
      style="width:100%;padding:14px 16px;border:2px solid var(--lt-gray);border-radius:10px;font-size:16px;font-family:inherit;color:var(--dark);outline:none;min-height:52px;-webkit-appearance:auto"
      onfocus="this.style.borderColor='var(--blue)';this.style.boxShadow='0 0 0 3px rgba(29,114,184,0.15)'"
      onblur="this.style.borderColor='var(--lt-gray)';this.style.boxShadow='none'">
      ${optionsHtml}
    </select>
  </div>`;
}

function nextBtn(lbl_es, lbl_en, fn) {
  const es = currentLang === 'es';
  return `<button onclick="${fn}" class="btn btn-primary" style="width:100%;justify-content:center;margin-top:12px;font-size:17px;padding:17px;min-height:54px;font-weight:700;letter-spacing:0.02em">${es?lbl_es:lbl_en} <i class="fas fa-arrow-right"></i></button>`;
}

function getVal(id) { const el=document.getElementById(id); return el?el.value.trim():''; }
function getChecked(name) {
  return Array.from(document.querySelectorAll(`input[name="${name}"]:checked`)).map(c=>c.value);
}

// â”€â”€ ZIP â†’ STATE AUTO-GUESS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function zipToState(zip) {
  if (!zip || zip.length < 3) return '';
  const p = parseInt(zip.substring(0, 3), 10);
  if (isNaN(p)) return '';
  const map = [
    [0,6,'PR'],[6,10,'NH'],[10,28,'MA'],[28,30,'RI'],[30,56,'NY'],[56,63,'NJ'],[66,100,'PA'],
    [100,150,'PA'],[150,197,'PA'],[197,200,'DE'],[200,206,'DC'],[206,213,'MD'],[213,247,'VA'],
    [247,269,'WV'],[270,290,'NC'],[290,300,'SC'],[300,320,'GA'],[320,350,'FL'],[350,370,'AL'],
    [370,386,'TN'],[386,398,'MS'],[400,430,'KY'],[430,460,'OH'],[460,480,'IN'],[480,500,'MI'],
    [500,530,'IA'],[530,550,'WI'],[550,568,'MN'],[570,578,'SD'],[580,589,'ND'],[590,600,'MT'],
    [600,633,'IL'],[633,659,'MO'],[660,680,'KS'],[680,694,'NE'],[700,716,'LA'],[716,730,'AR'],
    [730,750,'OK'],[750,800,'TX'],[800,817,'CO'],[820,832,'WY'],[832,839,'ID'],[840,848,'UT'],
    [850,866,'AZ'],[870,886,'NM'],[889,899,'NV'],[900,962,'CA'],[967,969,'HI'],[970,980,'OR'],
    [980,995,'WA'],[995,1000,'AK']
  ];
  for (const [lo, hi, st] of map) if (p >= lo && p < hi) return st;
  return '';
}

// â”€â”€ CARRIER DROPDOWN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function carrierSel(id) {
  const es = currentLang === 'es';
  const carriers = [
    'Kaiser Permanente','UnitedHealthcare (AARP)','Aetna / CVS Health',
    'Humana','Anthem Blue Cross','Blue Shield of California','Molina Healthcare'
  ];
  const opts = carriers.map(c => `<option value="${c}">${c}</option>`).join('');
  return `<div style="margin-bottom:14px">
    <label style="display:block;font-size:14px;font-weight:600;color:var(--navy);margin-bottom:6px">
      'Â¿Con quÃ© aseguradora tiene su plan?'
    </label>
    <select id="${id}" onchange="toggleOtherCarrier('${id}')" style="width:100%;padding:13px 16px;border:2px solid var(--lt-gray);border-radius:10px;font-size:16px;font-family:inherit;color:var(--dark);outline:none">
      <option value="">'Selecciona su aseguradora'</option>
      ${opts}
      <option value="other">'Otra aseguradora'</option>
    </select>
    <input id="${id}-other" type="text" placeholder="'Escribe el nombre de la aseguradora'"
      style="display:none;width:100%;margin-top:8px;padding:13px 16px;border:2px solid var(--lt-gray);border-radius:10px;font-size:16px;font-family:inherit;outline:none">
  </div>`;
}
function toggleOtherCarrier(id) {
  const sel = document.getElementById(id);
  const other = document.getElementById(id + '-other');
  if (other) other.style.display = (sel && sel.value === 'other') ? 'block' : 'none';
}

// â”€â”€ CHRONIC CONDITIONS PANEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function chronicPanel() {
  const es = currentLang === 'es';
  let html = `<div style="margin-bottom:20px">
    <label style="display:block;font-size:14px;font-weight:600;color:var(--navy);margin-bottom:10px">
      'Â¿Su familiar o usted tiene alguna de estas condiciones crÃ³nicas? (Selecciona todas las que apliquen)'
    </label>
    <div style="border:2px solid var(--lt-blue);border-radius:10px;padding:16px;background:white;max-height:280px;overflow-y:auto">`;
  CHRONIC_CONDITIONS.forEach(group => {
    html += `<div style="margin-bottom:12px"><div style="font-size:12px;font-weight:700;color:var(--teal);text-transform:uppercase;letter-spacing:1px;margin-bottom:6px">${es?group.es:group.group}</div>`;
    group.items.forEach(item => {
      html += `<label style="display:flex;align-items:center;gap:8px;font-size:14px;color:var(--dark);margin-bottom:4px;cursor:pointer">
        <input type="checkbox" name="chronic" value="${item.v}" style="width:16px;height:16px;accent-color:var(--navy)">
        ${es?item.es:item.en}
      </label>`;
    });
    html += `</div>`;
  });
  html += `</div>
    <label style="display:flex;align-items:center;gap:8px;font-size:14px;color:var(--gray);margin-top:8px;cursor:pointer">
      <input type="checkbox" name="chronic" value="none" id="chronic-none" style="width:16px;height:16px;accent-color:var(--green)">
      <em>'Ninguna de las anteriores'</em>
    </label>
  </div>`;
  return html;
}

function partABQuestion() {
  const es = currentLang === 'es';
  return sel('partab',
    'Â¿Ya tiene Medicare Parte A y Parte B?',
    'Do you already have Medicare Part A and Part B?',
    `<option value="both">'SÃ­, tengo ambas (Parte A y B)'</option>
     <option value="a_only">'Solo Parte A'</option>
     <option value="neither">${es?'No, todavÃ­a no tengo ninguna':'No, I don\'t have either yet'}</option>
     <option value="unsure">'No estoy seguro/a'</option>`
  );
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FLOW 1 â€” TURNING 65 / FIRST TIME
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderFT_Step1(es) {
  const months_es = ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];
  const months_en = ['January','February','March','April','May','June','July','August','September','October','November','December'];
  const months = es ? months_es : months_en;
  const currentYear = new Date().getFullYear();
  let monthOpts = `<option value="">'Mes'</option>` + months.map((m,i)=>`<option value="${i+1}">${m}</option>`).join('');
  let yearOpts  = `<option value="">'AÃ±o'</option>`;
  for(let y=currentYear; y<=currentYear+2; y++) yearOpts += `<option value="${y}">${y}</option>`;

  document.getElementById('flow-first-time').innerHTML = `
    <button class="widget-back" onclick="wBack('w-step-0')"><i class="fas fa-arrow-left"></i> 'AtrÃ¡s'</button>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
      <div style="width:40px;height:40px;border-radius:10px;background:var(--navy);display:flex;align-items:center;justify-content:center;color:white;font-size:18px;flex-shrink:0"><i class="fas fa-birthday-cake"></i></div>
      <div class="widget-q" style="margin:0">'Â¿CuÃ¡ndo cumple 65?'</div>
    </div>
    <div class="widget-qsub">'Esto determina exactamente cuÃ¡nto tiempo tiene para inscribirse sin penalidades permanentes.'</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:14px">
      <div>
        <label style="display:block;font-size:14px;font-weight:600;color:var(--navy);margin-bottom:6px">'Mes*'</label>
        <select id="ft-month" style="width:100%;padding:13px 12px;border:2px solid var(--lt-gray);border-radius:10px;font-size:16px;font-family:inherit">${monthOpts}</select>
      </div>
      <div>
        <label style="display:block;font-size:14px;font-weight:600;color:var(--navy);margin-bottom:6px">'AÃ±o*'</label>
        <select id="ft-year" style="width:100%;padding:13px 12px;border:2px solid var(--lt-gray);border-radius:10px;font-size:16px;font-family:inherit">${yearOpts}</select>
      </div>
    </div>
    <div style="display:grid;grid-template-columns:2fr 1fr;gap:12px;align-items:start">${inp('ft-zip', 'CÃ³digo postal*', 'Zip code*', 'text', 'Ej: 90028', 'E.g. 90028', true)}${inp('ft-state', 'Estado', 'State', 'text', 'CA', 'CA', false)}</div>
    ${nextBtn('Continuar', 'Continue', 'ft_step2()')}
  `;
  showWidgetStep('flow-first-time');
  setTimeout(() => {
    const zipEl = document.getElementById('ft-zip');
    const stEl  = document.getElementById('ft-state');
    if (zipEl && stEl) {
      zipEl.addEventListener('input', function() {
        const st = zipToState(this.value);
        if (st && !stEl._touched) { stEl.value = st; stEl.style.color='var(--teal)'; }
      });
      stEl.addEventListener('input', function() { this._touched = true; this.style.color='var(--dark)'; });
    }
  }, 0);
}

function ft_step2() { updateWidgetProgress(30);
  const month = getVal('ft-month'), year = getVal('ft-year'), zip = getVal('ft-zip'), state = getVal('ft-state');
  if (!month || !year || !zip) {
    if(!month) document.getElementById('ft-month').style.borderColor='#DC2626';
    if(!year) document.getElementById('ft-year').style.borderColor='#DC2626';
    if(!zip) document.getElementById('ft-zip').style.borderColor='#DC2626';
    return;
  }
  wData.birthday = { month, year }; wData.zip = zip; wData.state = state;
  const es = currentLang === 'es';
  shell('flow-first-time','flow-first-time','fas fa-briefcase','var(--navy)',
    'Â¿Sigue trabajando actualmente?', 'Are you currently still working?',
    'Si tiene seguro de empleador activo, hay reglas importantes sobre cuÃ¡ndo inscribirse.', 'If you have active employer coverage, there are important rules about when to enroll.',
    opt('SÃ­, trabajo y tengo seguro de mi empleador','Yes, I work and have employer insurance',"ft_work('yes-employer')",
        'Puede haber una excepciÃ³n para retrasar Medicare','You may qualify to delay Medicare') +
    opt('SÃ­ trabajo, pero SIN seguro de empleador','Yes I work, but with NO employer insurance',"ft_work('yes-noinsurance')") +
    opt('No, ya estoy jubilado/a','No, I am retired',"ft_work('retired')") +
    opt('Tengo seguro del trabajo de mi esposo/a','I\'m on my spouse\'s employer plan',"ft_work('spouse-plan')")
  );
}

function ft_work(w) {
  wData.workStatus = w;
  const es = currentLang === 'es';
  shell('flow-first-time','flow-first-time','fas fa-id-card','var(--navy)',
    'Â¿Ya tiene Medicare Parte A y Parte B?', 'Do you already have Medicare Part A and Part B?',
    'Esto cambia mucho el proceso. Si ya los tiene, nos enfocamos en elegir el plan correcto.', 'This changes the process significantly. If you already have them, we focus on choosing the right plan.',
    partABQuestion() +
    nextBtn('Continuar','Continue','ft_step3()')
  );
}

function ft_step3() { updateWidgetProgress(55);
  wData.partAB = getVal('partab');
  const es = currentLang === 'es';
  shell('flow-first-time','flow-first-time','fas fa-pills','var(--navy)',
    'Â¿Toma medicamentos recetados regularmente?', 'Do you take prescription medications regularly?',
    'El tipo y cantidad de medicinas afecta cuÃ¡l plan de Parte D o Medicare Advantage es el mejor para ti.', 'The type and quantity of medications affects which Part D or Medicare Advantage plan is best for you.',
    opt('No tomo ningÃºn medicamento recetado','I take no prescription medications',"ft_meds('none')") +
    opt('Tomo 1â€“3 medicamentos','I take 1â€“3 medications',"ft_meds('few')") +
    opt('Tomo 4 o mÃ¡s medicamentos','I take 4 or more medications',"ft_meds('many')") +
    opt('Tengo medicamentos costosos o de marca','I have expensive or brand-name medications',"ft_meds('expensive')",'MÃ¡s de $100/mes','More than $100/month')
  );
}

function ft_meds(m) {
  wData.meds = m;
  const es = currentLang === 'es';
  document.getElementById('flow-first-time').innerHTML = `
    <button class="widget-back" onclick="wBack('flow-first-time')"><i class="fas fa-arrow-left"></i> 'AtrÃ¡s'</button>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
      <div style="width:40px;height:40px;border-radius:10px;background:var(--teal);display:flex;align-items:center;justify-content:center;color:white;font-size:18px;flex-shrink:0"><i class="fas fa-heartbeat"></i></div>
      <div class="widget-q" style="margin:0">'Condiciones de salud'</div>
    </div>
    <div class="widget-qsub">'Si tiene condiciones crÃ³nicas, puede haber planes especiales (C-SNP) diseÃ±ados exactamente para su situaciÃ³n.'</div>
    ${chronicPanel()}
    ${nextBtn('Continuar','Continue','ft_step4()')}
  `;
}

function ft_step4() { updateWidgetProgress(75);
  wData.chronic = getChecked('chronic');
  renderUrgencyStep('flow-first-time', 'first-time');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FLOW 2 â€” MOVING
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderMV_Step1(es) {
  document.getElementById('flow-moving').innerHTML = `
    <button class="widget-back" onclick="wBack('w-step-0')"><i class="fas fa-arrow-left"></i> 'AtrÃ¡s'</button>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
      <div style="width:40px;height:40px;border-radius:10px;background:var(--blue);display:flex;align-items:center;justify-content:center;color:white;font-size:18px;flex-shrink:0"><i class="fas fa-truck-moving"></i></div>
      <div class="widget-q" style="margin:0">Tell Us About Your Move</div>
    </div>
    <div class="widget-qsub">Moving qualifies you for a Special Enrollment Period (SEP). Timing matters.</div>
    <div style="display:grid;grid-template-columns:2fr 1fr;gap:12px;align-items:start">${inp('mv-zip-from', 'ZIP de origen*', 'Origin zip*', 'text', 'Ej: 60601', 'E.g. 60601', true)}${inp('mv-state-from', 'Estado', 'State', 'text', 'IL', 'IL', false)}</div>
    <div style="display:grid;grid-template-columns:2fr 1fr;gap:12px;align-items:start">${inp('mv-zip-to', 'ZIP de destino*', 'Destination zip*', 'text', 'Ej: 90028', 'E.g. 90028', true)}${inp('mv-state-to', 'Estado nuevo', 'New state', 'text', 'CA', 'CA', false)}</div>
    ${sel('mv-when', 'Â¿CuÃ¡ndo es la mudanza?', 'When is the move?',
      `<option value="moved">'Ya me mudÃ© (Ãºltimos 60 dÃ­as)'</option>
       <option value="30d">'Me mudo en los prÃ³ximos 30 dÃ­as'</option>
       <option value="90d">'Me mudo en 1â€“3 meses'</option>
       <option value="planning">'Solo estoy planeando'</option>`
    )}
    ${nextBtn('Continuar','Continue','mv_step2()')}
  `;
  showWidgetStep('flow-moving');
  setTimeout(() => {
    [['mv-zip-from','mv-state-from'],['mv-zip-to','mv-state-to']].forEach(([zId, sId]) => {
      const zipEl = document.getElementById(zId);
      const stEl  = document.getElementById(sId);
      if (zipEl && stEl) {
        zipEl.addEventListener('input', function() {
          const st = zipToState(this.value);
          if (st && !stEl._touched) { stEl.value = st; stEl.style.color='var(--teal)'; }
        });
        stEl.addEventListener('input', function() { this._touched = true; this.style.color='var(--dark)'; });
      }
    });
  }, 0);
}

function mv_step2() { updateWidgetProgress(40);
  const zf=getVal('mv-zip-from'), zt=getVal('mv-zip-to');
  if(!zf||!zt){if(!zf)document.getElementById('mv-zip-from').style.borderColor='#DC2626';if(!zt)document.getElementById('mv-zip-to').style.borderColor='#DC2626';return;}
  wData.zipFrom=zf; wData.stateFrom=getVal('mv-state-from');
  wData.zipTo=zt; wData.stateTo=getVal('mv-state-to'); wData.moveWhen=getVal('mv-when');
  const es = currentLang === 'es';
  shell('flow-moving','flow-moving','fas fa-file-medical','var(--blue)',
    'Â¿QuÃ© tipo de plan de Medicare tiene ahora?', 'What type of Medicare plan do you have now?',
    'Los planes de Medicare Advantage son locales. Al cruzar de condado o estado, su plan puede quedar invÃ¡lido.', 'Medicare Advantage plans are local. Crossing county or state lines may invalidate your current plan.',
    opt('Medicare Advantage (Parte C) â€” plan todo-en-uno','Medicare Advantage (Part C) â€” all-in-one plan',"mv_plan('advantage')") +
    opt('Medicare Original + Suplemento (Medigap)','Original Medicare + Supplement (Medigap)',"mv_plan('medigap')") +
    opt('Medicare Original solamente (sin suplemento)','Original Medicare only (no supplement)',"mv_plan('original')") +
    opt('No sÃ© / No estoy seguro/a',"I don't know / Not sure","mv_plan('unknown')")
  );
}

function mv_plan(p) {
  wData.plantype = p;
  const es = currentLang === 'es';
  shell('flow-moving','flow-moving','fas fa-id-card','var(--blue)',
    'Â¿Ya tiene Medicare Parte A y Parte B?', 'Do you already have Medicare Part A and Part B?',
    'Necesitamos saber esto para asegurarnos de que haya continuidad de cobertura al mudarse.', 'We need to know this to ensure coverage continuity during your move.',
    partABQuestion() +
    nextBtn('Continuar','Continue','mv_step3()')
  );
}

function mv_step3() { updateWidgetProgress(70);
  wData.partAB = getVal('partab');
  const es = currentLang === 'es';
  document.getElementById('flow-moving').innerHTML = `
    <button class="widget-back" onclick="wBack('flow-moving')"><i class="fas fa-arrow-left"></i> 'AtrÃ¡s'</button>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
      <div style="width:40px;height:40px;border-radius:10px;background:var(--teal);display:flex;align-items:center;justify-content:center;color:white;font-size:18px;flex-shrink:0"><i class="fas fa-heartbeat"></i></div>
      <div class="widget-q" style="margin:0">'Condiciones de salud'</div>
    </div>
    <div class="widget-qsub">${es?'Al cambiar de plan, es clave asegurarnos de que tus condiciones y medicamentos estÃ©n cubiertos.':'When changing plans, it\'s key to ensure your conditions and medications are covered.'}</div>
    ${chronicPanel()}
    ${nextBtn('Continuar','Continue','mv_step4()')}
  `;
}

function mv_step4() { updateWidgetProgress(85);
  wData.chronic = getChecked('chronic');
  renderUrgencyStep('flow-moving', 'moving');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FLOW 3 â€” BETTER OPTIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderBT_Step1(es) {
  document.getElementById('flow-better').innerHTML = `
    <button class="widget-back" onclick="wBack('w-step-0')"><i class="fas fa-arrow-left"></i> 'AtrÃ¡s'</button>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
      <div style="width:40px;height:40px;border-radius:10px;background:var(--teal);display:flex;align-items:center;justify-content:center;color:white;font-size:18px;flex-shrink:0"><i class="fas fa-user-friends"></i></div>
      <div class="widget-q" style="margin:0">'Â¿Para quiÃ©n busca opciones?'</div>
    </div>
    <div class="widget-qsub">'Las preguntas serÃ¡n ligeramente diferentes segÃºn su respuesta.'</div>
    ${opt('Para mÃ­ â€” yo quiero comparar mi plan actual','For me â€” I want to compare my current plan',"bt_who('self')")}
    ${opt('Para un familiar (padre, madre, abuelo/a...)','For a family member (parent, grandparent...)',"bt_who('family')")}
  `;
  showWidgetStep('flow-better');
}

function bt_who(who) {
  wData.forWhom = who;
  const es = currentLang === 'es';
  if (who === 'self') {
    shell('flow-better','flow-better','fas fa-balance-scale','var(--teal)',
      'Â¿CuÃ¡l es su seguro actual?', 'Tell me about your current insurance',
      'Necesito saber el punto de partida para encontrar algo mejor.', 'I need your starting point to find something better.',
      carrierSel('bt-carrier') +
      '<div style="display:grid;grid-template-columns:2fr 1fr;gap:12px;align-items:start">' +
      inp('bt-zip','Su cÃ³digo postal*','Your zip code*','text','Ej: 90028','E.g. 90028',true) +
      inp('bt-state','Su estado','Your state','text','CA','CA',false) +
      '</div>' +
      sel('bt-plantype','Â¿QuÃ© tipo de plan tiene?','What type of plan do you have?',
        `<option value="advantage">'Medicare Advantage (Parte C)'</option>
         <option value="medigap">'Medicare Original + Suplemento Medigap'</option>
         <option value="original">'Medicare Original solamente'</option>
         <option value="unknown">'No estoy seguro/a'</option>`
      ) +
      nextBtn('Continuar','Continue','bt_step2_self()')
    );
    setTimeout(() => {
      const zipEl = document.getElementById('bt-zip');
      const stEl  = document.getElementById('bt-state');
      if (zipEl && stEl) {
        zipEl.addEventListener('input', function() {
          const st = zipToState(this.value);
          if (st && !stEl._touched) { stEl.value = st; stEl.style.color='var(--teal)'; }
        });
        stEl.addEventListener('input', function() { this._touched = true; this.style.color='var(--dark)'; });
      }
    }, 0);
  } else {
    shell('flow-better','flow-better','fas fa-hands-helping','var(--green)',
      'Â¿DÃ³nde vive su familiar?', 'Where does your family member live?',
      'Los planes disponibles dependen del Ã¡rea donde viven. TambiÃ©n necesito saber un poco sobre ellos.', 'Available plans depend on where they live. I also need to know a little about them.',
      '<div style="display:grid;grid-template-columns:2fr 1fr;gap:12px;align-items:start">' +
      inp('pr-zip','CÃ³digo postal del familiar*','Family member\'s zip*','text','Ej: 90028','E.g. 90028',true) +
      inp('pr-state','Estado','State','text','CA','CA',false) +
      '</div>' +
      sel('pr-age','Â¿QuÃ© edad tiene su familiar?','How old is your family member?',
        `<option value="almost64">'64 aÃ±os â€” cumple 65 pronto'</option>
         <option value="65plus_has">'65+ y YA tiene Medicare'</option>
         <option value="65plus_no">'65+ pero NO tiene Medicare todavÃ­a'</option>
         <option value="disability">'Menos de 65 â€” califica por discapacidad'</option>`
      ) +
      sel('pr-lang','Â¿Su familiar habla inglÃ©s?',
        `<option value="es">'Prefiere espaÃ±ol'</option>
         <option value="en">'Habla inglÃ©s bien'</option>
         <option value="both">'Habla los dos idiomas'</option>`
      ) +
      nextBtn('Continuar','Continue','bt_step2_fam()')
    );
    setTimeout(() => {
      const zipEl = document.getElementById('pr-zip');
      const stEl  = document.getElementById('pr-state');
      if (zipEl && stEl) {
        zipEl.addEventListener('input', function() {
          const st = zipToState(this.value);
          if (st && !stEl._touched) { stEl.value = st; stEl.style.color='var(--teal)'; }
        });
        stEl.addEventListener('input', function() { this._touched = true; this.style.color='var(--dark)'; });
      }
    }, 0);
  }
}

function bt_step2_self() {
  const zip = getVal('bt-zip');
  if (!zip) { document.getElementById('bt-zip').style.borderColor='#DC2626'; return; }
  const carrierEl = document.getElementById('bt-carrier');
  let carrier = carrierEl ? carrierEl.value : '';
  if (carrier === 'other') { const oth = document.getElementById('bt-carrier-other'); carrier = oth ? oth.value.trim() || 'Otra' : 'Otra'; }
  wData.carrier = carrier; wData.zip = zip; wData.state = getVal('bt-state'); wData.plantype = getVal('bt-plantype');
  const es = currentLang === 'es';
  shell('flow-better','flow-better','fas fa-exclamation-circle','var(--teal)',
    'Â¿CuÃ¡l es su principal queja con su plan actual?', 'What is your main complaint about your current plan?',
    'SÃ© especÃ­fico/a â€” esto nos ayuda a saber exactamente en quÃ© enfocarnos.', 'Be specific â€” this helps us know exactly what to focus on.',
    opt('Los costos son muy altos (prima, copagos, deducibles)','Costs are too high (premium, copays, deductibles)',"bt_issue('cost')") +
    opt('Mis mÃ©dicos ya no estÃ¡n en la red del plan','My doctors are no longer in the plan network',"bt_issue('doctors')") +
    opt('Mis medicamentos cuestan demasiado con este plan','My medications cost too much with this plan',"bt_issue('drugs')") +
    opt('Me falta cobertura dental, visiÃ³n o auditiva','I am missing dental, vision, or hearing coverage',"bt_issue('extras')") +
    opt('RecibÃ­ carta que dice que mi plan cambia o se cancela','I received a letter saying my plan is changing or cancelled',"bt_issue('cancelled')",'Â¡ActÃºa rÃ¡pido!','Act fast!')
  );
}

function bt_step2_fam() {
  const zip = getVal('pr-zip');
  if (!zip) { document.getElementById('pr-zip').style.borderColor='#DC2626'; return; }
  wData.parentZip = zip; wData.parentState = getVal('pr-state');
  wData.parentAge = getVal('pr-age'); wData.parentLang = getVal('pr-lang');
  const es = currentLang === 'es';
  shell('flow-better','flow-better','fas fa-id-card','var(--green)',
    'Â¿Su familiar ya tiene Medicare Parte A y Parte B?', 'Does your family member already have Medicare Part A and Part B?',
    'Esto determina si necesitamos inscribirlos o simplemente mejorar su cobertura actual.', 'This determines whether we need to enroll them or just improve their current coverage.',
    partABQuestion() + nextBtn('Continuar','Continue','bt_step3_fam()')
  );
}

function bt_issue(i) {
  wData.issue = i;
  const es = currentLang === 'es';
  shell('flow-better','flow-better','fas fa-id-card','var(--teal)',
    'Â¿Ya tiene Medicare Parte A y Parte B?', 'Do you already have Medicare Part A and Part B?',
    'Necesitamos confirmarlo para comparar las opciones correctas disponibles en su Ã¡rea.', 'We need to confirm this to compare the right options available in your area.',
    partABQuestion() + nextBtn('Continuar','Continue','bt_step3_self()')
  );
}

function bt_step3_self() {
  wData.partAB = getVal('partab');
  bt_showChronic('bt_step4()');
}

function bt_step3_fam() {
  wData.partAB = getVal('partab');
  const es = currentLang === 'es';
  shell('flow-better','flow-better','fas fa-question-circle','var(--green)',
    'Â¿CuÃ¡l es la situaciÃ³n de su familiar ahora mismo?', "What is your family member's situation right now?",
    'SÃ© especÃ­fico/a â€” asÃ­ sabemos exactamente cÃ³mo ayudar.', "Be specific â€” that's how we know exactly how to help.",
    opt('No tiene Medicare y necesita inscribirse','They do not have Medicare and need to enroll',"bt_sit('enroll')") +
    opt('Tiene Medicare pero el plan es muy caro o cubre mal','They have Medicare but it is too expensive or covers poorly',"bt_sit('change')") +
    opt('Se va a mudar y necesita cambiar de plan','They are moving and need to change plans',"bt_sit('moving')") +
    opt('RecibiÃ³ una carta confusa de Medicare o su seguro','They received a confusing letter from Medicare or their insurer',"bt_sit('letter')") +
    opt('Queremos entender las opciones desde cero','We want to understand the options from scratch',"bt_sit('education')")
  );
}

function bt_sit(s) {
  wData.situation = s;
  bt_showChronic('bt_step4()');
}

function bt_showChronic(nextFn) {
  const es = currentLang === 'es';
  const isFam = wData.forWhom === 'family';
  const label = isFam ? (es?'Condiciones de salud del familiar':"Family member's health conditions") : (es?'Condiciones de salud':'Health Conditions');
  document.getElementById('flow-better').innerHTML = `
    <button class="widget-back" onclick="wBack('flow-better')"><i class="fas fa-arrow-left"></i> 'AtrÃ¡s'</button>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
      <div style="width:40px;height:40px;border-radius:10px;background:var(--teal);display:flex;align-items:center;justify-content:center;color:white;font-size:18px;flex-shrink:0"><i class="fas fa-heartbeat"></i></div>
      <div class="widget-q" style="margin:0">${label}</div>
    </div>
    <div class="widget-qsub">'Si hay condiciones crÃ³nicas, existen planes C-SNP con beneficios adicionales diseÃ±ados exactamente para esa situaciÃ³n.'</div>
    ${chronicPanel()}
    ${nextBtn('Continuar','Continue',nextFn)}
  `;
}

function bt_step4() { updateWidgetProgress(85);
  wData.chronic = getChecked('chronic');
  renderUrgencyStep('flow-better', wData.forWhom === 'family' ? 'parent' : 'better');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONTACT FORM (final step â€” all flows)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€ URGENCY QUALIFIER (over-qualification step) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderUrgencyStep(containerId, flow) {
  const es = currentLang === 'es';
  document.getElementById(containerId).innerHTML = `
    <button class="widget-back" onclick="history.go(-1)" style="display:none"></button>
    <div class="widget-q" style="margin-bottom:8px">'Una pregunta mÃ¡sâ€¦'</div>
    <div class="widget-qsub" style="margin-bottom:18px">'Esto nos ayuda a priorizar su caso correctamente.'</div>
    <div style="display:flex;flex-direction:column;gap:10px">
      <button onclick="setUrgency('asap','${containerId}','${flow}')" style="padding:14px 18px;border:2px solid var(--lt-blue);border-radius:10px;background:white;font-size:15px;font-family:inherit;cursor:pointer;color:var(--dark);text-align:left;transition:all 0.15s" onmouseover="this.style.borderColor='var(--green)';this.style.background='var(--lt-mint)'" onmouseout="this.style.borderColor='var(--lt-blue)';this.style.background='white'">
        <strong>'Lo antes posible'</strong><br>
        <span style="font-size:13px;color:var(--gray)">'Necesito inscribirme o cambiar de plan pronto.'</span>
      </button>
      <button onclick="setUrgency('3months','${containerId}','${flow}')" style="padding:14px 18px;border:2px solid var(--lt-blue);border-radius:10px;background:white;font-size:15px;font-family:inherit;cursor:pointer;color:var(--dark);text-align:left;transition:all 0.15s" onmouseover="this.style.borderColor='var(--blue)';this.style.background='var(--lt-blue)'" onmouseout="this.style.borderColor='var(--lt-blue)';this.style.background='white'">
        <strong>'En los prÃ³ximos 1â€“3 meses'</strong><br>
        <span style="font-size:13px;color:var(--gray)">'Estoy evaluando mis opciones con tiempo.'</span>
      </button>
      <button onclick="setUrgency('exploring','${containerId}','${flow}')" style="padding:14px 18px;border:2px solid var(--lt-blue);border-radius:10px;background:white;font-size:15px;font-family:inherit;cursor:pointer;color:var(--dark);text-align:left;transition:all 0.15s" onmouseover="this.style.borderColor='var(--gray)';this.style.background='var(--lt-gray)'" onmouseout="this.style.borderColor='var(--lt-blue)';this.style.background='white'">
        <strong>'Solo estoy explorando por ahora'</strong><br>
        <span style="font-size:13px;color:var(--gray)">'No hay prisa. Quiero entender mis opciones primero.'</span>
      </button>
    </div>
  `;
}
function setUrgency(urgency, containerId, flow) {
  wData.urgency = urgency;
  renderContactForm(containerId, flow);
}

function renderContactForm(containerId, flow) {
  const es = currentLang === 'es';
  const badges = {
    'first-time': { icon:'ğŸš¨', lbl_es:'Primera InscripciÃ³n Medicare', lbl_en:'First Time Medicare Enrollment' },
    'moving':     { icon:'âš¡', lbl_es:'Mudanza â€” Cambio de Plan', lbl_en:'Moving â€” Plan Change' },
    'better':     { icon:'ğŸ”', lbl_es:'Comparar / Mejorar Plan', lbl_en:'Compare / Improve Plan' },
    'parent':     { icon:'ğŸ’š', lbl_es:'Ayudando a un Familiar', lbl_en:'Helping a Family Member' },
  };
  const b = badges[flow] || { icon:'ğŸ“‹', lbl_es:'Consulta', lbl_en:'Consultation' };
  document.getElementById(containerId).innerHTML = `
    <button class="widget-back" onclick="wBack('${containerId}')"><i class="fas fa-arrow-left"></i> 'AtrÃ¡s'</button>
    <div style="background:var(--lt-green);border-radius:var(--radius);padding:16px;margin-bottom:24px;display:flex;align-items:center;gap:12px">
      <i class="fas fa-check-circle" style="color:var(--green);font-size:24px;flex-shrink:0"></i>
      <div>
        <strong style="color:var(--navy);font-size:15px">${b.icon} ${es?b.lbl_es:b.lbl_en}</strong><br>
        <span style="font-size:13px;color:var(--gray)">Answers received. Now I need your info to reach you.</span>
      </div>
    </div>
    <div class="widget-q" style="margin-bottom:8px">How can we reach you?</div>
    <div class="widget-qsub">Alejandra will call you in Spanish or English, as you prefer. Free, no obligation.</div>
    ${inp('cf-name','Your full name*','Your full name*','text','Ej: MarÃ­a GarcÃ­a','E.g. Maria Garcia',true)}
    ${inp('cf-phone','Your phone number*','Your phone number*','tel','Ej: (310) 555-1234','E.g. (310) 555-1234',true)}
    ${sel('cf-contact','How would you prefer we contact you?','How would you like us to reach you?',
      `<option value='sms' selected>Text message (SMS)</option>
       <option value='whatsapp'>WhatsApp</option>
       <option value='email'>Email</option>
       <option value='call'>Phone call</option>`
    )}
    ${sel('cf-time','Mejor momento para contactarte','Best time to reach you',
      `<option value="morning">Morning (9amâ€“12pm)</option>
       <option value="afternoon">Midday (12pmâ€“3pm)</option>
       <option value="evening">Afternoon (3pmâ€“6pm)</option>
       <option value="anytime">Anytime</option>`
    )}
    ${sel('cf-lang','Â¿Prefiere que lo llamemos en...?','What language do you prefer for the call?',
      `<option value="es">Spanish</option>
       <option value="en">English</option>
       <option value="both">Either works</option>`
    )}
    <div style="margin-bottom:20px">
      <label style="display:block;font-size:14px;font-weight:600;color:var(--navy);margin-bottom:6px">Anything else we should know? (optional)</label>
      <textarea id="cf-notes" rows="3" placeholder="E.g. I have Kaiser and want to keep my doctor. I take metformin and lisinopril." style="width:100%;padding:13px 16px;border:2px solid var(--lt-gray);border-radius:10px;font-size:16px;font-family:inherit;resize:vertical;outline:none" onfocus="this.style.borderColor='var(--blue)'" onblur="this.style.borderColor='var(--lt-gray)'"></textarea>
    </div>
    <button onclick="submitWidget('${flow}')" class="btn btn-primary" style="width:100%;justify-content:center;font-size:17px;padding:18px">
      <i class="fas fa-paper-plane"></i> Send â€” Alejandra Will Call Me
    </button>
    <p style="text-align:center;font-size:13px;color:var(--gray);margin-top:12px">âœ“ Free &nbsp; âœ“ No obligation &nbsp; âœ“ We'll call you</p>
  `;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SUBMIT â€” compose pre-filled email
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€ SUCCESS STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showSuccessState(containerId) {
  const container = document.getElementById(containerId);
  const isEs = currentLang === 'es';
  container.innerHTML = `
    <div style="text-align:center;padding:40px 20px">
      <div style="color:var(--green);font-size:56px;margin-bottom:20px">âœ“</div>
      <h3 style="margin-bottom:15px;color:var(--navy);font-size:24px">${isEs ? 'Â¡Solicitud Iniciada!' : 'Request Started!'}</h3>
      <p style="font-size:17px;color:var(--gray);margin-bottom:16px;line-height:1.7">
        ${isEs
          ? 'Se ha abierto su correo. Haga clic en <b>"Send"</b> para que Alejandra Brizuela Marcos reciba su mensaje.'
          : 'Your email app has opened. Please click <b>"Send"</b> so Alejandra Brizuela Marcos receives your message.'}
      </p>
      <p style="background:#F0F7F0;padding:14px 18px;border-radius:10px;font-size:15px;color:var(--gray);margin-bottom:24px;line-height:1.6">
        <b>TIP:</b> Add <b>alejamedicare@gmail.com</b> to your contacts so our reply doesn't go to spam.
      </p>
      <button onclick="location.reload()" class="btn btn-primary" style="justify-content:center">
        ${isEs ? 'â† Volver al inicio' : 'â† Back to home'}
      </button>
    </div>`;
}

function submitWidget(flow) {
  const name=getVal('cf-name'), phone=getVal('cf-phone');
  if(!name||!phone){ if(!name)document.getElementById('cf-name').style.borderColor='#DC2626'; if(!phone)document.getElementById('cf-phone').style.borderColor='#DC2626'; return; }
  wData.name=name; wData.phone=phone; wData.contactMethod=getVal('cf-contact'); wData.callTime=getVal('cf-time'); wData.callLang=getVal('cf-lang'); wData.notes=getVal('cf-notes'); wData.flow=flow;
  wData.submittedAt=new Date().toLocaleString('en-US',{timeZone:'America/Los_Angeles'});
  const subject = buildEmailSubject();
  const body = buildEmailBody();
  window.location.href = `mailto:alejamedicare@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  updateWidgetProgress(100); setTimeout(()=>{ showSuccessState('widget-box'); }, 400);
}

function buildEmailSubject() {
  const fl={'first-time':'ğŸš¨ PRIMERA INSCRIPCIÃ“N','moving':'âš¡ MUDANZA','better':'COMPARAR PLAN','parent':'ğŸ’š AYUDA FAMILIAR'};
  return `${fl[wData.flow]||'ğŸ“‹ NUEVO LEAD'}: ${wData.name}`;
}

function chronicLabel(v) {
  for(const g of CHRONIC_CONDITIONS){ for(const item of g.items){ if(item.v===v) return item.es; } }
  return v;
}

function buildEmailBody() {
  const ct={'morning':'MaÃ±ana 9â€“12pm','afternoon':'MediodÃ­a 12â€“3pm','evening':'Tarde 3â€“6pm','anytime':'Cualquier hora'};
  const cl={'es':'EspaÃ±ol','en':'InglÃ©s','both':'Cualquiera'};
  const ab={'both':'SÃ­, tiene ambas (A y B)','a_only':'Solo Parte A','neither':'No tiene ninguna','unsure':'No sabe'};
  const mv={'moved':'Ya se mudÃ³ (Ãºltimos 60 dÃ­as)','30d':'Se muda en 30 dÃ­as','90d':'Se muda en 1â€“3 meses','planning':'Solo planificando'};
  const pt={'advantage':'Medicare Advantage (Parte C)','medigap':'Original + Medigap','original':'Original solamente','unknown':'No sabe'};
  const is={'cost':'Costos muy altos','doctors':'MÃ©dicos fuera de red','drugs':'Medicamentos muy caros','extras':'Falta dental/visiÃ³n/auditiva','cancelled':'Plan se cancela/cambia'};
  const ag={'almost64':'64 aÃ±os â€” cumple 65 pronto','65plus_has':'65+, ya tiene Medicare','65plus_no':'65+, no tiene Medicare','disability':'Discapacidad'};
  const ps={'enroll':'Necesita inscribirse','change':'Mejorar plan actual','moving':'Se muda','letter':'Carta confusa recibida','education':'EducaciÃ³n desde cero'};
  const fl={'first-time':'Primera InscripciÃ³n Medicare','moving':'Mudanza â€” Cambio de Plan','better':'Comparar / Mejorar Plan','parent':'Ayuda para Familiar'};

  let lines = [
    'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•',
    '      NUEVO LEAD â€” SUSANA MARCOS LLC',
    'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•',
    '',
    `â–¸ TIPO:        ${fl[wData.flow]||wData.flow}`,
    `â–¸ FECHA/HORA:  ${wData.submittedAt}`,
    '',
    'â”€â”€ CONTACTO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€',
    `â–¸ NOMBRE:      ${wData.name}`,
    `â–¸ TELÃ‰FONO:    ${wData.phone}`,
    `â–¸ CONTACTAR:   ${wData.contactMethod||'No especificado'}`,
    `â–¸ LLAMAR:      ${ct[wData.callTime]||wData.callTime}`,
    `â–¸ IDIOMA:      ${cl[wData.callLang]||wData.callLang}`,
    '',
    'â”€â”€ SITUACIÃ“N â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€',
  ];

  if (wData.birthday) lines.push(`â–¸ CUMPLEAÃ‘OS 65: ${wData.birthday.month}/${wData.birthday.year}`);
  if (wData.zip)      lines.push(`â–¸ ZIP:          ${wData.zip}`);
  if (wData.state)    lines.push(`â–¸ ESTADO:       ${wData.state}`);
  if (wData.zipFrom)  lines.push(`â–¸ DE (ZIP):     ${wData.zipFrom}, ${wData.stateFrom||''}`);
  if (wData.zipTo)    lines.push(`â–¸ A (ZIP):      ${wData.zipTo}, ${wData.stateTo||''}`);
  if (wData.moveWhen) lines.push(`â–¸ MUDANZA:      ${mv[wData.moveWhen]||wData.moveWhen}`);
  if (wData.partAB)   lines.push(`â–¸ PARTE A y B:  ${ab[wData.partAB]||wData.partAB}`);
  if (wData.workStatus) lines.push(`â–¸ TRABAJA:      ${wData.workStatus}`);
  if (wData.plantype) lines.push(`â–¸ PLAN ACTUAL:  ${pt[wData.plantype]||wData.plantype}`);
  if (wData.carrier)  lines.push(`â–¸ ASEGURADORA:  ${wData.carrier}`);
  if (wData.issue)    lines.push(`â–¸ PROBLEMA:     ${is[wData.issue]||wData.issue}`);
  if (wData.meds)     lines.push(`â–¸ MEDICAMENTOS: ${wData.meds}`);
  if (wData.parentZip)   lines.push(`â–¸ ZIP FAMILIAR: ${wData.parentZip}, ${wData.parentState||''}`);
  if (wData.parentAge)   lines.push(`â–¸ EDAD FAMILIAR: ${ag[wData.parentAge]||wData.parentAge}`);
  if (wData.parentLang)  lines.push(`â–¸ IDIOMA FAM.:  ${cl[wData.parentLang]||wData.parentLang}`);
  if (wData.parentSituation) lines.push(`â–¸ SITUACIÃ“N FAM.: ${ps[wData.parentSituation]||wData.parentSituation}`);

  if (wData.chronic && wData.chronic.length > 0 && !wData.chronic.includes('none')) {
    lines.push('');
    lines.push('â”€â”€ CONDICIONES CRÃ“NICAS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€');
    wData.chronic.forEach(c => lines.push(`  âœ“ ${chronicLabel(c)}`));
  }

  if (wData.notes) {
    lines.push('');
    lines.push('â”€â”€ NOTAS DEL CLIENTE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€');
    lines.push(wData.notes);
  }

  lines.push('');
  lines.push('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
  lines.push('Enviado desde guiamarcos.com');
  return lines.join('\n');
}

function submitSeminar(e) {
  e.preventDefault();
  const name = document.getElementById('sem-name').value.trim();
  const email = document.getElementById('sem-email').value.trim();
  const phone = document.getElementById('sem-phone').value.trim();
  const lang = document.getElementById('sem-lang').value;
  const langLabels = {es:'EspaÃ±ol',en:'English',both:'Cualquiera'};
  const es = currentLang === 'es';
  const subject = `INSCRIPCIÃ“N SEMINARIO: ${name}`;
  const body = [
    'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•',
    '   NUEVA INSCRIPCIÃ“N â€” SEMINARIO VIRTUAL',
    'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•',
    '',
    `â–¸ NOMBRE: ${name}`,
    `â–¸ EMAIL: ${email}`,
    `â–¸ TELEFONO: ${phone || 'No proporcionado'}`,
    `â–¸ IDIOMA PREFERIDO: ${langLabels[lang]||lang}`,
    `â–¸ FECHA/HORA: ${new Date().toLocaleString('en-US',{timeZone:'America/Los_Angeles'})}`,
    '',
    'Inscrito desde: guiamarcos.com',
  ].join('\n');
  window.location.href = `mailto:alejamedicare@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  setTimeout(() => { showSuccessState('seminar-widget'); }, 400);
}

// Init
updateLang();

// â”â”â” SMOOTH SCROLL TO WIDGET â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// â”â”â” OPTIMIZED SCROLL TO WIDGET â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
function smoothScrollToWidget() {
  function _pulse() {
    const widget = document.getElementById('widget-box');
    if (!widget) return;
    widget.style.transition = 'all 0.4s ease';
    widget.style.boxShadow = '0 0 40px rgba(0, 123, 64, 0.6)';
    widget.style.transform = 'scale(1.02)';
    setTimeout(() => {
      widget.style.transform = 'scale(1)';
      widget.style.boxShadow = 'var(--shadow-lg)';
    }, 500);
  }
  if (true) { window.location.href='index.html#widget-anchor'; return;
    
    setTimeout(() => {
      const anchor = document.getElementById('widget-anchor');
      if (anchor) anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });
      setTimeout(_pulse, 600);
    }, 150);
  } else {
    const anchor = document.getElementById('widget-anchor');
    if (anchor) anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });
    setTimeout(_pulse, 600);
  }
}

// â”â”â” WIDGET PROGRESS BAR â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
function updateWidgetProgress(pct) {
  const fill = document.getElementById('widget-progress-fill');
  if (fill) fill.style.width = Math.min(100, Math.max(0, pct)) + '%';
}

// â”â”â” MOBILE STICKY CTA VISIBILITY â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
(function() {
  var sticky = null;
  function checkScroll() {
    if (!sticky) sticky = document.getElementById('mobile-sticky-cta');
    if (!sticky) return;
    var hero = document.querySelector('.hero');
    if (!hero) return;
    var heroBottom = hero.getBoundingClientRect().bottom;
    var footer = document.querySelector('footer');
    var footerVisible = footer && footer.getBoundingClientRect().top < window.innerHeight;
    // Show after hero scrolls out, hide when footer becomes visible
    if (currentPage === 'home' && heroBottom < 0 && !footerVisible) {
      sticky.style.display = 'flex';
    } else {
      sticky.style.display = 'none';
    }
  }
  window.addEventListener('scroll', checkScroll, { passive: true });
})();

</script>

<script>
async function submitForm(e) {
    e.preventDefault();
    const form = document.getElementById('contact-form');
    
    form.querySelectorAll('.field-error').forEach(el => el.remove());
    form.querySelectorAll('.error').forEach(el => el.classList.remove('error'));
    
    let isValid = true;
    
    const nameEl = document.getElementById('cf2-name');
    const phoneEl = document.getElementById('cf2-phone');
    if (!nameEl.value.trim()) { nameEl.classList.add('error'); isValid = false; }
    if (!phoneEl.value.trim()) { phoneEl.classList.add('error'); isValid = false; }
    
    const phoneDigits = phoneEl.value.replace(/\D/g, '');
    if (phoneEl.value.trim() && phoneDigits.length < 10) {
        phoneEl.classList.add('error');
        const msg = document.createElement('span');
        msg.className = 'field-error';
        msg.style.cssText = 'color:#e53e3e;font-size:0.82rem;display:block;margin-top:4px';
        msg.textContent = 'Please enter a valid 10-digit phone number.';
        phoneEl.parentNode.appendChild(msg);
        isValid = false;
    }
    
    const emailEl = document.getElementById('cf2-email');
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/;
    if (emailEl && emailEl.value.trim() && !emailRegex.test(emailEl.value.trim())) {
        emailEl.classList.add('error');
        const msg = document.createElement('span');
        msg.className = 'field-error';
        msg.style.cssText = 'color:#e53e3e;font-size:0.82rem;display:block;margin-top:4px';
        msg.textContent = 'Please enter a valid email address.';
        emailEl.parentNode.appendChild(msg);
        isValid = false;
    }
    

    // Validate DOB
    const dobMonthEl = document.getElementById('dob-month');
    const dobDayEl   = document.getElementById('dob-day');
    const dobYearEl  = document.getElementById('dob-year');
    const dobErrEl   = document.getElementById('dob-error');
    if (dobMonthEl && dobDayEl && dobYearEl) {
        if (!dobMonthEl.value || !dobDayEl.value || !dobYearEl.value) {
            if(!dobMonthEl.value) dobMonthEl.classList.add('error');
            if(!dobDayEl.value)   dobDayEl.classList.add('error');
            if(!dobYearEl.value)  dobYearEl.classList.add('error');
            if(dobErrEl){ dobErrEl.textContent='Please complete all date of birth fields.'; dobErrEl.style.display='block'; }
            isValid = false;
        } else {
            const testDate = new Date(dobYearEl.value, dobMonthEl.value-1, dobDayEl.value);
            if(testDate.getMonth() !== parseInt(dobMonthEl.value)-1){
                dobDayEl.classList.add('error');
                if(dobErrEl){ dobErrEl.textContent='Invalid date (e.g. Feb 30 does not exist).'; dobErrEl.style.display='block'; }
                isValid = false;
            } else {
                [dobMonthEl,dobDayEl,dobYearEl].forEach(el=>el.classList.remove('error'));
                if(dobErrEl) dobErrEl.style.display='none';
            }
        }
    }

    if (!isValid) {
        const firstError = form.querySelector('.error');
        if (firstError) firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
        return;
    }
    
    // Zip / state â€” at least one required
    const zipVal = document.getElementById('cf2-zip') ? document.getElementById('cf2-zip').value.trim() : '';
    const stateVal = document.getElementById('cf2-state') ? document.getElementById('cf2-state').value.trim() : '';
    if (!zipVal && !stateVal) {
      const zipEl = document.getElementById('cf2-zip');
      if (zipEl) { zipEl.classList.add('error'); zipEl.scrollIntoView({behavior:'smooth',block:'center'}); }
      isValid = false;
    }
    if (!isValid) {
      const firstError = form.querySelector('.error');
      if (firstError) firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
      return;
    }

    const preferEl = document.getElementById('cf2-prefer');
    const topicEl = document.getElementById('cf2-topic');
    const formData = {
        name: nameEl.value,
        phone: phoneEl.value,
        email: emailEl ? emailEl.value : '',
        zip: zipVal,
        state: stateVal,
        dob: dobMonthEl && dobDayEl && dobYearEl ? `${String(dobMonthEl.value).padStart(2,'0')}/${String(dobDayEl.value).padStart(2,'0')}/${dobYearEl.value}` : '',
        prefer: preferEl ? preferEl.options[preferEl.selectedIndex].text : '',
        topic: topicEl ? topicEl.options[topicEl.selectedIndex].text : '',
        submittedAt: new Date().toISOString(),
        language: 'en',
        site: 'guiamarcos.com'
    };
    
    try {
        fetch('https://hooks.zapier.com/hooks/catch/26596586/u04de3s/', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData)
        }).catch(() => {});
    } catch(err) {}
    
    form.style.display = 'none';
    document.getElementById('form-success').style.display = 'block';
}

document.getElementById('contact-form').querySelectorAll('input, select').forEach(el => {
    el.addEventListener('input', function() { 
        this.classList.remove('error');
        const next = this.nextElementSibling;
        if (next && next.classList.contains('field-error')) next.remove();
    });
});

// ZIP â†’ state auto-select
(function() {
  function wireZip() {
    const zipEl = document.getElementById('cf2-zip');
    const stateEl = document.getElementById('cf2-state');
    if (!zipEl || !stateEl) return;
    function autoState() {
      const st = typeof zipToState === 'function' ? zipToState(zipEl.value) : '';
      if (st) {
        stateEl.value = st;
        stateEl.style.borderColor = 'var(--teal, #0D9488)';
      }
    }
    zipEl.addEventListener('input', autoState);
    zipEl.addEventListener('change', autoState);
  }
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', wireZip);
  } else {
    wireZip();
  }
})();
</script>
</body>
</html>